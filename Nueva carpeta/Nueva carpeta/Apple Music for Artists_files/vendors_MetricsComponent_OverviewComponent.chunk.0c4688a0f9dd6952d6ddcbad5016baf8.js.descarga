/*! artistconnect-ui#2042.9.0 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1010:function(t,e,i){
/*! @tidbits/timeseries#4.2.1 */
var r;r=function(){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.i=function(t){return t},i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=95)}([function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,i){"use strict";e.__esModule=!0;var r,n=i(101),a=(r=n)&&r.__esModule?r:{default:r};e.default=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,a.default)(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.EventTypes={BAR_WIDTH_UPDATED:"BAR_WIDTH_UPDATED",CANVAS_RENDERER_PAINT:"CANVAS_RENDERER_PAINT",CONFIG_UPDATED:"CONFIG_UPDATED",DATA_UPDATED:"DATA_UPDATED",DATA_UPDATED_INTERNAL:"DATA_UPDATED_INTERNAL",HIGHLIGHT_DATE:"HIGHLIGHT_DATE",LAYER_TEARDOWN_COMPLETE:"LAYER_TEARDOWN_COMPLETE",MARKERS_UPDATED:"MARKERS_UPDATED",RANGE_UPDATED:"RANGE_UPDATED",RESIZE:"RESIZE",SELECT_DATE:"SELECT_DATE",TEARDOWN:"TEARDOWN",UNHIGHLIGHT_DATE:"UNHIGHLIGHT_DATE"};var r=e.TimePeriods={MINUTELY:"minutely",HOURLY:"hourly",DAILY:"daily",WEEKLY:"weekly",MONTHLY:"monthly"},n=e.DefaultRanges={};n[r.MINUTELY]=60,n[r.HOURLY]=24,n[r.DAILY]=30,n[r.WEEKLY]=6,n[r.MONTHLY]=6;e.ClassNames={BASE:"tb-timeseries",AXES:"tb-timeseries__axes",X_AXIS:"tb-timeseries__axis tb-timeseries__axis--x",Y_AXIS:"tb-timeseries__axis tb-timeseries__axis--y",STAGE:"tb-timeseries__stage",STAGE_CANVAS:"tb-timeseries__stage__canvas",BORDER:"tb-timeseries__border",LAYER:"tb-timeseries__layer",LINE:"tb-timeseries__line",POINTS:"tb-timeseries__points",BARS:"tb-timeseries__bars",BAR:"tb-timeseries__bar",BAR_ZERO:"tb-timeseries__bar--zero",BAR_NEG:"tb-timeseries__bar--negative",HIT_AREAS:"tb-timeseries__hit-areas",TOOLTIP:"tb-timeseries__tooltip",TOOLTIP_HEADER:"tb-timeseries__tooltip__header",TOOLTIP_LIST:"tb-timeseries__tooltip__list",TOOLTIP_LIST_POINTS:"tb-timeseries__tooltip__list--points",TOOLTIP_LIST_MARKERS:"tb-timeseries__tooltip__list--markers",CURSOR:"tb-timeseries__cursor",MARKERS:"tb-timeseries__markers",MARKER:"tb-timeseries__marker",HIDDEN:"tb-timeseries--hidden",INFO:"tb-timeseries__info",INFO_CONTENT:"tb-timeseries__info__content",INFO_HIDDEN:"tb-timeseries__info--hidden",NO_DATA:"tb-timeseries--no-data",CLIP_TARGET:"tb-timeseries__clip-target",XMASK_TARGET:"tb-timeseries__xmask-target",YMASK_TARGET:"tb-timeseries__ymask-target",MASK_TARGET:"tb-timeseries__mask-target",XGRAD_TARGET:"tb-timeseries__xgrad-target",YGRAD_TARGET:"tb-timeseries__ygrad-target"},e.RenderModes=["svg","canvas"]},function(t,e){var i=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=i)},function(t,e,i){t.exports={default:i(111),__esModule:!0}},function(t,e,i){t.exports={default:i(115),__esModule:!0}},function(t,e,i){"use strict";e.__esModule=!0;var r=o(i(102)),n=o(i(100)),a=o(i(31));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,a.default)(e)));t.prototype=(0,n.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(r.default?(0,r.default)(t,e):t.__proto__=e)}},function(t,e,i){"use strict";e.__esModule=!0;var r,n=i(31),a=(r=n)&&r.__esModule?r:{default:r};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,a.default)(e))&&"function"!=typeof e?t:e}},function(t,e,i){var r=i(12),n=i(3),a=i(19),o=i(14),s=function(t,e,i){var u,l,h,c=t&s.F,d=t&s.G,f=t&s.S,p=t&s.P,v=t&s.B,y=t&s.W,_=d?n:n[e]||(n[e]={}),g=_.prototype,m=d?r:f?r[e]:(r[e]||{}).prototype;for(u in d&&(i=e),i)(l=!c&&m&&void 0!==m[u])&&u in _||(h=l?m[u]:i[u],_[u]=d&&"function"!=typeof m[u]?i[u]:v&&l?a(h,r):y&&m[u]==h?function(t){var e=function(e,i,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(h):p&&"function"==typeof h?a(Function.call,h):h,p&&((_.virtual||(_.virtual={}))[u]=h,t&s.R&&g&&!g[u]&&o(g,u,h)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e,i){var r=i(51)("wks"),n=i(36),a=i(12).Symbol,o="function"==typeof a;(t.exports=function(t){return r[t]||(r[t]=o&&a[t]||(o?a:n)("Symbol."+t))}).store=r},function(t,e,i){var r=i(18),n=i(62),a=i(53),o=Object.defineProperty;e.f=i(11)?Object.defineProperty:function(t,e,i){if(r(t),e=a(e,!0),r(i),n)try{return o(t,e,i)}catch(s){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){t.exports=!i(20)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e,i){t.exports={default:i(114),__esModule:!0}},function(t,e,i){var r=i(10),n=i(28);t.exports=i(11)?function(t,e,i){return r.f(t,e,n(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){var r=i(43),n=i(41);t.exports=function(t){return r(n(t))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(i(99)),n=a(i(38));function a(t){return t&&t.__esModule?t:{default:t}}e.logTiming=function(t,e,i){0},e.abstract=function(t,e,i){i.value=function(){throw new Error(t.constructor.name+"."+e+" is abstract!")}},e.memoize=function(t,e,i){t.__memoized||(t.__memoized={});var a=i.value;i.value=function(){var i=t.__memoized[e];i||(i=t.__memoized[e]=new n.default);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];var l=(0,r.default)(s);if(i.has(l))return i.get(l);var h=a.apply(this,s);return i.set(l,h),h}},e.invalidate=function(t){return function(e,i,r){var n=r.value;r.value=function(){var i=e.__memoized||{};i[t]&&delete i[t];for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];return n.apply(this,a)}}}},function(t,e,i){var r=i(15);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,i){var r=i(58);t.exports=function(t,e,i){if(r(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,r){return t.call(e,i,r)};case 3:return function(i,r,n){return t.call(e,i,r,n)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,n=h(i(13)),a=h(i(30)),o=h(i(0)),s=h(i(1)),u=i(17),l=i(2);function h(t){return t&&t.__esModule?t:{default:t}}function c(t,e,i,r,n){var a={};return Object.keys(r).forEach(function(t){a[t]=r[t]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(t,e,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(t,e,a),a=null),a}var d=(c((r=function(){function t(e,i,r){(0,o.default)(this,t),this.chart=e,this._setDisplayProps(i),this._addEventListeners(r),this.render()}return(0,s.default)(t,[{key:"render",value:function(){}},{key:"update",value:function(){}},{key:"tearDown",value:function(){}},{key:"destroy",value:function(){}},{key:"_setDisplayProps",value:function(){}},{key:"_addEventListeners",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._evMap=e,this._bound=(0,a.default)(this._evMap).reduce(function(e,i){var r=l.EventTypes[i],n=t._evMap[i],a=t[n];if(!r)throw new Error("Unknown event type: "+i);if(!a)throw new Error("Unknown method name: "+n);return e[n]||(e[n]=a.bind(t)),t.chart.bus.on(r,e[n]),e},{})}},{key:"_removeEventListeners",value:function(){var t=this;this.chart&&this.chart.bus&&(0,a.default)(this._evMap).forEach(function(e){var i=t._evMap[e];t.chart.bus.removeListener(l.EventTypes[e],t._bound[i])})}}]),t}()).prototype,"render",[u.abstract],(0,n.default)(r.prototype,"render"),r.prototype),c(r.prototype,"update",[u.abstract],(0,n.default)(r.prototype,"update"),r.prototype),c(r.prototype,"tearDown",[u.abstract],(0,n.default)(r.prototype,"tearDown"),r.prototype),c(r.prototype,"destroy",[u.abstract],(0,n.default)(r.prototype,"destroy"),r.prototype),c(r.prototype,"_setDisplayProps",[u.abstract],(0,n.default)(r.prototype,"_setDisplayProps"),r.prototype),r);e.default=d,t.exports=e.default},function(t,e,i){var r=i(69),n=i(42);t.exports=Object.keys||function(t){return r(t,n)}},function(t,e,i){var r=i(41);t.exports=function(t){return Object(r(t))}},function(t,e,i){"use strict";e.__esModule=!0;var r=a(i(5)),n=a(i(13));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e,i,a){null===e&&(e=Function.prototype);var o=(0,n.default)(e,i);if(void 0===o){var s=(0,r.default)(e);return null===s?void 0:t(s,i,a)}if("value"in o)return o.value;var u=o.get;return void 0!==u?u.call(a):void 0}},function(t,e){t.exports={}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,n=c(i(13)),a=c(i(30)),o=c(i(4)),s=c(i(0)),u=c(i(1)),l=i(17),h=i(2);function c(t){return t&&t.__esModule?t:{default:t}}function d(t,e,i,r,n){var a={};return Object.keys(r).forEach(function(t){a[t]=r[t]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(t,e,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(t,e,a),a=null),a}var f=(d((r=function(){function t(e,i,r){(0,s.default)(this,t),this.chart=e.chart,this.id=e.id,this.d3=this.chart.d3,this.konva=this.chart.konva,this.uid=this.chart.uid,this.bus=this.chart.bus,this.$container=e.$container,this.x=this.chart.xScale.copy(),this.y=this.chart.yScale.copy(),this.color=e.color,this._createContainer(),this._setDisplayProps(i),this._addEventListeners(r)}return(0,u.default)(t,[{key:"_createContainer",value:function(){}},{key:"_setDisplayProps",value:function(t){this.config=(0,o.default)({color:this.color,strokeColor:this.color,fillColor:this.color},this.constructor._defaults||{},t)}},{key:"setData",value:function(){}},{key:"setVisibleRange",value:function(t){this._visibleRange=t,this.x=this.chart.xScale.copy(),this.y=this.chart.yScale.copy()}},{key:"render",value:function(){}},{key:"update",value:function(){}},{key:"tearDown",value:function(){}},{key:"destroy",value:function(){this._removeEventListeners(),this.$el&&(this.$el.remove(),delete this.$el),delete this.chart}},{key:"_addEventListeners",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._evMap=e,this._bound=(0,a.default)(this._evMap).reduce(function(e,i){var r=h.EventTypes[i],n=t._evMap[i],a=t[n];if(-1!==["DATA_UPDATED","DATA_UPDATED_INTERNAL","RANGE_UPDATE","RESIZE","TEARDOWN","LAYER_TEARDOWN_COMPLETE"].indexOf(i))return e;if(!r)throw new Error("Unknown event type: "+i);if(!a)throw new Error("Unknown method name: "+n);return e[n]||(e[n]=a.bind(t)),t.bus.on(r,e[n]),e},{})}},{key:"_removeEventListeners",value:function(){var t=this;this.bus&&(0,a.default)(this._evMap).forEach(function(e){var i=t._evMap[e];t.bus.removeListener(h.EventTypes[e],t._bound[i])})}}]),t}()).prototype,"_createContainer",[l.abstract],(0,n.default)(r.prototype,"_createContainer"),r.prototype),d(r.prototype,"setData",[l.abstract],(0,n.default)(r.prototype,"setData"),r.prototype),d(r.prototype,"render",[l.abstract],(0,n.default)(r.prototype,"render"),r.prototype),d(r.prototype,"update",[l.abstract],(0,n.default)(r.prototype,"update"),r.prototype),d(r.prototype,"tearDown",[l.abstract],(0,n.default)(r.prototype,"tearDown"),r.prototype),r);e.default=f,t.exports=e.default},function(t,e,i){t.exports={default:i(116),__esModule:!0}},function(t,e,i){"use strict";e.__esModule=!0;var r=o(i(105)),n=o(i(104)),a="function"==typeof n.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof n.default&&t.constructor===n.default&&t!==n.default.prototype?"symbol":typeof t};function o(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof n.default&&"symbol"===a(r.default)?function(t){return void 0===t?"undefined":a(t)}:function(t){return t&&"function"==typeof n.default&&t.constructor===n.default&&t!==n.default.prototype?"symbol":void 0===t?"undefined":a(t)}},function(t,e,i){var r=i(19),n=i(65),a=i(63),o=i(18),s=i(35),u=i(73),l={},h={};(e=t.exports=function(t,e,i,c,d){var f,p,v,y,_=d?function(){return t}:u(t),g=r(i,c,e?2:1),m=0;if("function"!=typeof _)throw TypeError(t+" is not iterable!");if(a(_)){for(f=s(t.length);f>m;m++)if((y=e?g(o(p=t[m])[0],p[1]):g(t[m]))===l||y===h)return y}else for(v=_.call(t);!(p=v.next()).done;)if((y=n(v,g,p.value,e))===l||y===h)return y}).BREAK=l,e.RETURN=h},function(t,e,i){var r=i(18),n=i(136),a=i(42),o=i(50)("IE_PROTO"),s=function(){},u=function(){var t,e=i(61)("iframe"),r=a.length;for(e.style.display="none",i(132).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[a[r]];return u()};t.exports=Object.create||function(t,e){var i;return null!==t?(s.prototype=r(t),i=new s,s.prototype=null,i[o]=t):i=u(),void 0===e?i:n(i,e)}},function(t,e,i){var r=i(10).f,n=i(21),a=i(9)("toStringTag");t.exports=function(t,e,i){t&&!n(t=i?t:t.prototype,a)&&r(t,a,{configurable:!0,value:e})}},function(t,e,i){var r=i(52),n=Math.min;t.exports=function(t){return t>0?n(r(t),9007199254740991):0}},function(t,e){var i=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+r).toString(36))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.POSITION={LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",MIDDLE:"middle"}},function(t,e,i){t.exports={default:i(110),__esModule:!0}},function(t,e,i){"use strict";e.__esModule=!0;var r,n=i(98),a=(r=n)&&r.__esModule?r:{default:r};e.default=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return(0,a.default)(t)}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){var r=i(40);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,i){"use strict";var r=i(45),n=i(8),a=i(71),o=i(14),s=i(21),u=i(26),l=i(133),h=i(34),c=i(68),d=i(9)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,i,v,y,_,g){l(i,e,v);var m,k,b,T=function(t){if(!f&&t in M)return M[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},D=e+" Iterator",E="values"==y,x=!1,M=t.prototype,R=M[d]||M["@@iterator"]||y&&M[y],S=R||T(y),w=y?E?T("entries"):S:void 0,C="Array"==e&&M.entries||R;if(C&&(b=c(C.call(new t)))!==Object.prototype&&b.next&&(h(b,D,!0),r||s(b,d)||o(b,d,p)),E&&R&&"values"!==R.name&&(x=!0,S=function(){return R.call(this)}),r&&!g||!f&&!x&&M[d]||o(M,d,S),u[e]=S,u[D]=p,y)if(m={values:E?S:T("values"),keys:_?S:T("keys"),entries:w},g)for(k in m)k in M||a(M,k,m[k]);else n(n.P+n.F*(f||x),e,m);return m}},function(t,e){t.exports=!0},function(t,e,i){var r=i(36)("meta"),n=i(15),a=i(21),o=i(10).f,s=0,u=Object.isExtensible||function(){return!0},l=!i(20)(function(){return u(Object.preventExtensions({}))}),h=function(t){o(t,r,{value:{i:"O"+ ++s,w:{}}})},c=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,r)){if(!u(t))return"F";if(!e)return"E";h(t)}return t[r].i},getWeak:function(t,e){if(!a(t,r)){if(!u(t))return!0;if(!e)return!1;h(t)}return t[r].w},onFreeze:function(t){return l&&c.NEED&&u(t)&&!a(t,r)&&h(t),t}}},function(t,e,i){var r=i(27),n=i(28),a=i(16),o=i(53),s=i(21),u=i(62),l=Object.getOwnPropertyDescriptor;e.f=i(11)?l:function(t,e){if(t=a(t),e=o(e,!0),u)try{return l(t,e)}catch(i){}if(s(t,e))return n(!r.f.call(t,e),t[e])}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var r=i(8),n=i(3),a=i(20);t.exports=function(t,e){var i=(n.Object||{})[t]||Object[t],o={};o[t]=e(i),r(r.S+r.F*a(function(){i(1)}),"Object",o)}},function(t,e,i){var r=i(51)("keys"),n=i(36);t.exports=function(t){return r[t]||(r[t]=n(t))}},function(t,e,i){var r=i(12),n=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return n[t]||(n[t]={})}},function(t,e){var i=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:i)(t)}},function(t,e,i){var r=i(15);t.exports=function(t,e){if(!r(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!r(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){var r=i(12),n=i(3),a=i(45),o=i(55),s=i(10).f;t.exports=function(t){var e=n.Symbol||(n.Symbol=a?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:o.f(t)})}},function(t,e,i){e.f=i(9)},function(t,e,i){"use strict";var r=i(143)(!0);i(44)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=r(e,i),this._i+=t.length,{value:t,done:!1})})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,n=l(i(13)),a=l(i(0)),o=l(i(1)),s=i(17),u=i(2);function l(t){return t&&t.__esModule?t:{default:t}}function h(t,e,i,r,n){var a={};return Object.keys(r).forEach(function(t){a[t]=r[t]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(t,e,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(t,e,a),a=null),a}var c=(h((r=function(){function t(e){(0,a.default)(this,t),this.chart=e,this.d3=this.chart.d3,this.$el=this.chart.$axesContainer.append("svg:g"),this.$clipPath=this.$el.append("svg:g").classed(u.ClassNames.CLIP_TARGET,!0).attr("clip-path","url(#clip-"+this.chart.uid+")"),this.chart.bus.on(u.EventTypes.RANGE_UPDATED,this.render.bind(this)),this.chart.bus.on(u.EventTypes.RESIZE,this.update.bind(this)),this.chart.bus.on(u.EventTypes.CONFIG_UPDATED,this.onConfigUpdated.bind(this))}return(0,o.default)(t,[{key:"onConfigUpdated",value:function(){}},{key:"render",value:function(){}},{key:"update",value:function(){}},{key:"createGridContainer",value:function(){return this.$gridContainer=this.$clipPath.append("svg:g").classed("grid",!0),this}},{key:"destroy",value:function(){this.$el.remove(),delete this.$el,delete this.$axisContainer,delete this.$gridContainer}}]),t}()).prototype,"render",[s.abstract],(0,n.default)(r.prototype,"render"),r.prototype),h(r.prototype,"update",[s.abstract],(0,n.default)(r.prototype,"update"),r.prototype),r);e.default=c,t.exports=e.default},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t,e,i,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(i+": incorrect invocation!");return t}},function(t,e,i){var r=i(40),n=i(9)("toStringTag"),a="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,i,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(i){}}(e=Object(t),n))?i:a?r(e):"Object"==(o=r(e))&&"function"==typeof e.callee?"Arguments":o}},function(t,e,i){var r=i(15),n=i(12).document,a=r(n)&&r(n.createElement);t.exports=function(t){return a?n.createElement(t):{}}},function(t,e,i){t.exports=!i(11)&&!i(20)(function(){return 7!=Object.defineProperty(i(61)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){var r=i(26),n=i(9)("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||a[n]===t)}},function(t,e,i){var r=i(40);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,i){var r=i(18);t.exports=function(t,e,i,n){try{return n?e(r(i)[0],i[1]):e(i)}catch(o){var a=t.return;throw void 0!==a&&r(a.call(t)),o}}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,i){var r=i(69),n=i(42).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,n)}},function(t,e,i){var r=i(21),n=i(24),a=i(50)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=n(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,e,i){var r=i(21),n=i(16),a=i(123)(!1),o=i(50)("IE_PROTO");t.exports=function(t,e){var i,s=n(t),u=0,l=[];for(i in s)i!=o&&r(s,i)&&l.push(i);for(;e.length>u;)r(s,i=e[u++])&&(~a(l,i)||l.push(i));return l}},function(t,e,i){var r=i(14);t.exports=function(t,e,i){for(var n in e)i&&t[n]?t[n]=e[n]:r(t,n,e[n]);return t}},function(t,e,i){t.exports=i(14)},function(t,e,i){var r=i(15);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,i){var r=i(60),n=i(9)("iterator"),a=i(26);t.exports=i(3).getIteratorMethod=function(t){if(null!=t)return t[n]||t["@@iterator"]||a[r(t)]}},function(t,e){},function(t,e,i){i(146);for(var r=i(12),n=i(14),a=i(26),o=i(9)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var l=s[u],h=r[l],c=h&&h.prototype;c&&!c[o]&&n(c,o,l),a[l]=a.Array}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n,a,o=w(i(13)),s=w(i(4)),u=w(i(31)),l=w(i(30)),h=w(i(0)),c=w(i(1)),d=i(162),f=i(2),p=i(17),v=w(i(94)),y=w(i(80)),_=w(i(77)),g=w(i(78)),m=w(i(82)),k=w(i(85)),b=w(i(81)),T=w(i(88)),D=w(i(83)),E=w(i(84)),x=w(i(93)),M=w(i(91)),R=w(i(92)),S=w(i(90));function w(t){return t&&t.__esModule?t:{default:t}}function C(t,e,i,r,n){var a={};return Object.keys(r).forEach(function(t){a[t]=r[t]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(t,e,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(t,e,a),a=null),a}var A=(r=(0,p.invalidate)("getByDate"),n=(0,p.invalidate)("getByDate"),C((a=function(){function t(e,i){var r=this;(0,h.default)(this,t),this.bus=new d.EventEmitter,this.bus.setMaxListeners(1e3),this.config={},this._setRootDOMElement(e),this._setRootClass(this.el),this._setDefaults(i),this._setResizable(),this.$container=this.d3.select(e).append("svg").attr("width",this.size.width).attr("height",this.size.height),this.uid=(+new Date*Math.random()).toString(16).slice(0,6),this.xScale=this.d3.scaleUtc(),this.yScale=this.d3.scaleLinear(),this._setupLayers(),this._createSubComponents(this.config),this.bus.on(f.EventTypes.BAR_WIDTH_UPDATED,function(t){r.barWidth=t,r._updateRange()}),this.bus.on(f.EventTypes.CONFIG_UPDATED,function(t){"period"!==t&&"periodStep"!==t||r._updateRange()}),setTimeout(function(){return r.setAbsoluteIRI()},0)}return(0,c.default)(t,null,[{key:"_defaults",get:function(){return{axes:["x","y"],border:{radius:0,stroke:"#d9dbda",strokeWidth:1},colors:[],firstDayOfWeek:0,headroom:1.1,margin:{bottom:50,left:50,right:50,top:50},period:f.TimePeriods.DAILY,periodStep:1,plugins:["hitareas","cursor","tooltip","mask","info","markers"],renderers:["line","point"],renderMode:"svg",transition:{duration:400,easing:"easeQuadOut"}}}}]),(0,c.default)(t,[{key:"loadData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._validateOpts(e);var i=(0,l.default)(e);i.indexOf("period")>=0&&this._setPeriod(e.period),i.indexOf("periodStep")>=0&&this._setPeriodStep(e.periodStep),this.startDate=e.startDate,this.endDate=e.endDate,this._prevData=this.data,this._setData(t),this._prevData&&this._prevData.length||this._updateRange(),this.bus.emit(f.EventTypes.DATA_UPDATED,this.data),this.bus.emit(f.EventTypes.DATA_UPDATED_INTERNAL,this.data),this._updateRange(),this.bus.emit(f.EventTypes.RANGE_UPDATED,this.xScale,this.yScale)}},{key:"loadJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[]",e=arguments[1];try{var i=JSON.parse(t);return this.loadData(i,e)}catch(r){throw new Error("Unable to parse JSON data: "+r)}}},{key:"loadMarkers",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._prevMarkers=this.markers,this._setMarkers(t),this.bus.emit(f.EventTypes.MARKERS_UPDATED,this.markers)}},{key:"setConfig",value:function(e){var i=this;if("object"!==(void 0===e?"undefined":(0,u.default)(e))||Array.isArray(e))throw new Error("Expected argument of type Object");var r=[],n=[],a=(0,l.default)(t._defaults);return(0,l.default)(e).forEach(function(t){return a.includes(t)?n.push(t):r.push(t)}),r.length&&console.warn("\n                Unknown config keys: "+r.join(", ")+".\n                Must be one of "+a.join(", ")+"\n            "),n.forEach(function(t){var r=e[t];i[{axes:"_setAxes",border:"_setBorder",colors:"_setColors",firstDayOfWeek:"_setFirstDayOfWeek",headroom:"_setHeadroom",margin:"_setMargin",period:"_setPeriod",periodStep:"_setPeriodStep",plugins:"_setPlugins",renderers:"_setRenderers",renderMode:"_setRenderMode",transition:"_setTransition"}[t]].call(i,r)}),this}},{key:"tearDown",value:function(){return this._setData([]),this._setMarkers([]),this.bus.emit(f.EventTypes.TEARDOWN),this}},{key:"destroy",value:function(){this.bus.removeAllListeners(),this.axes.forEach(function(t){return t.destroy()}),this.plugins.forEach(function(t){return t.destroy()}),this.renderers.forEach(function(t){return t.destroy()}),this.stage.destroy(),delete this.axes,delete this.plugins,delete this.renderers,delete this.stage,this.$container.remove(),delete this.$container}},{key:"getByDate",value:function(t){var e=[];this.groupedData.forEach(function(i,r){var n=i.values.find(function(e){return+e.date==+t});if(n){if(null===n.value||isNaN(n.value))return;var a=(0,s.default)({},i);delete a.values,delete a.date,delete a._yMin,delete a._yMax,a.id=r,a.value=n.value,a.tooltipValue=n.tooltipValue,e.push(a)}});var i=this.markers.filter(function(e){return+e.date==+t}).map(function(t){var e=(0,s.default)({},t);return delete e.date,e});return{date:t,points:e.sort(function(t,e){return e.value-t.value}),markers:i||[]}}},{key:"setAbsoluteIRI",value:function(){var t=""+location.pathname+location.search,e=t+"#clip-"+this.uid,i=t+"#xmask-"+this.uid,r=t+"#ymask-"+this.uid,n=t+"#xgrad-"+this.uid,a=t+"#ygrad-"+this.uid,o=t+"#mask-"+this.uid;this.$container.selectAll("."+f.ClassNames.CLIP_TARGET).attr("clip-path","url("+e+")"),this.$container.selectAll("."+f.ClassNames.XMASK_TARGET).attr("mask","url("+i+")"),this.$container.selectAll("."+f.ClassNames.YMASK_TARGET).attr("mask","url("+r+")"),this.$container.selectAll("."+f.ClassNames.MASK_TARGET).attr("mask","url("+o+")"),this.$container.selectAll("."+f.ClassNames.XGRAD_TARGET).attr("fill","url("+n+")"),this.$container.selectAll("."+f.ClassNames.YGRAD_TARGET).attr("fill","url("+a+")")}},{key:"_setDefaults",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.d3=t.d3,this.moment=t.moment,this.konva=t.konva,!this.d3)throw new Error("Missing dependency: d3");if(!this.moment)throw new Error("Missing dependency: moment");return this._setMargin(t.margin),this._setBorder(t.border),this._setHeadroom(t.headroom),this._setColors(t.colors),this._setFirstDayOfWeek(t.firstDayOfWeek),this._setTransition(t.transition),this._setRenderMode(t.renderMode),this._setPeriod(t.period),this._setPeriodStep(t.periodStep),this._setAxes(t.axes),this._setPlugins(t.plugins),this._setRenderers(t.renderers),this}},{key:"_setData",value:function(t){this.dataset.entities=t}},{key:"_setMarkers",value:function(t){this.dataset.markers=t}},{key:"_onResize",value:function(){var t=this;this.$container.attr("width",this.size.width).attr("height",this.size.height),setTimeout(function(){t._updateRange(),t.bus.emit(f.EventTypes.RESIZE)},10)}},{key:"_setResizable",value:function(){var t=this;window.addEventListener("resize",function(){t._resizeInProgress||(t._resizeInProgress=!0,setTimeout(function(){t._onResize(),t._resizeInProgress=!1},50))})}},{key:"_setupLayers",value:function(){this.$defsContainer=this.$defsContainer||this.$container.append("defs"),this.$axesContainer=this.$axesContainer||this.$container.append("svg:g").classed(f.ClassNames.AXES,!0),this.$stageContainer=this.$stageContainer||this.$container.append("svg:g").classed(f.ClassNames.STAGE,!0),this.$preRenderContainer=this.$preRenderContainer||this.$stageContainer.append("svg:g").classed(f.ClassNames.STAGE+"__prerender",!0),this.$renderContainer=this.$renderContainer||this.$stageContainer.append("svg:g").classed(f.ClassNames.STAGE+"__render",!0),this.$postRenderContainer=this.$postRenderContainer||this.$stageContainer.append("svg:g").classed(f.ClassNames.STAGE+"__postrender",!0)}},{key:"_createSubComponents",value:function(t){var e=this,i=t.axes,r=t.plugins,n=t.renderers,a=t.border,o=t.renderMode;return this.axes=[],this.plugins=[],this.renderers=[],this.dataset=new v.default(this),this.stage=new y.default(this,{d3:this.d3,konva:this.konva,border:a,renderMode:o}),i&&Array.isArray(i)&&i.forEach(function(t){return e._createAxis(t)}),r&&Array.isArray(r)&&r.forEach(function(t){return e._createPlugin(t)}),n&&Array.isArray(n)&&n.forEach(function(t){return e._createRenderer(t,o)}),this}},{key:"_createAxis",value:function(t){var e=this._getComponentConfig(t),i=e.name,r=e.options,n=void 0;switch(i){case"x":n=new _.default(this,(0,s.default)({moment:this.moment},r));break;case"y":n=new g.default(this,r);break;default:console.warn("Not a built-in axis type: "+i)}n&&this.axes.push(n)}},{key:"_createPlugin",value:function(t){var e=this._getComponentConfig(t),i=e.name,r=e.options,n=void 0;switch(i){case"mask":n=new k.default(this,(0,s.default)({borderRadius:this.config.border.radius},r),k.default._listeners);break;case"cursor":n=new b.default(this,r,b.default._listeners);break;case"tooltip":n=new T.default(this,r,T.default._listeners);break;case"info":n=new D.default(this,r,D.default._listeners);break;case"hitareas":n=new m.default(this,null,m.default._listeners);break;case"markers":n=new E.default(this,r,E.default._listeners);break;default:console.warn("Not a built-in plugin type: "+i)}n&&this.plugins.push(n)}},{key:"_createRenderer",value:function(t,e){var i=this._getComponentConfig(t),r=i.name,n=i.options;switch(r+"."+e){case"line.svg":this.stage.register("line.svg",R.default._factory(n));break;case"point.svg":this.stage.register("point.svg",x.default._factory(n));break;case"bar.svg":this.stage.register("bar.svg",M.default._factory(n));break;case"line.canvas":this.stage.register("line.canvas",S.default._factory(n));break;default:try{this.stage.register(r,n())}catch(a){console.error("Error creating custom "+e+" renderer: "+r+"\n"+a)}}}},{key:"_getComponentConfig",value:function(t){var e="string"==typeof t?t:t.name;if(!e||"string"!=typeof e||!e.length)throw new Error("Invalid component name:",t);return{name:e,options:"string"==typeof t?{}:t.options}}},{key:"_setVisibleRange",value:function(t){this._visibleRange=this._visibleRange||{xTicks:[]};var e=this.periodInterval,i=this.periodStep,r=void 0,n=void 0;t&&t.startDate&&(r=t.startDate),t&&t.endDate&&(n=t.endDate);var a=this.dataRange.xMin,o=this.dataRange.xMax,s=this.dataRange.yMin,u=this.dataRange.yMax,l=this.config.headroom;if(r&&!n){if(a=r,!o||+o<=+r){var h=e.floor(a);o=e.offset(h,f.DefaultRanges[this.period])}}else if(n&&!r){if(o=n,!a||+a>=+n){var c=e.floor(o);a=e.offset(c,-f.DefaultRanges[this.period])}}else if(r&&n){var d=e.floor(r),p=e.floor(n);+d==+p?(a=e.offset(d,-1),o=e.offset(p,1)):(a=r,o=n)}else{var v=e.floor(a),y=e.floor(o);+v==+y&&(a=e.offset(v,-1),o=e.offset(y,1))}if(!isNaN(+a)&&!isNaN(+o)){var _=e.range(a,e.offset(o),i);this._visibleRange.xMin=a,this._visibleRange.xMax=o,this._visibleRange.xTicks=_}if(!isNaN(s)&&!isNaN(u)){var g=Math.round(u*l);u===g&&(g+=1),g-s<=1&&(g+=1),this._visibleRange.yMin=s,this._visibleRange.yMax=g}}},{key:"_updateRange",value:function(){this._setVisibleRange({startDate:this.startDate,endDate:this.endDate}),this._setXScale(this.config.margin.left+this.barWidth/2,this.size.width-this.config.margin.right-this.barWidth/2),this._setYScale(this.config.margin.top,this.size.height-this.config.margin.bottom)}},{key:"_setXScale",value:function(t,e){e=e||this.size.width,this.xScale.range([t,e]).domain([this.visibleRange.xMin,this.visibleRange.xMax])}},{key:"_setYScale",value:function(t,e){var i=this.config.yAxis&&this.config.yAxis.tickCount||5;this.yScale.range([e,t]).domain([this.visibleRange.yMin,this.visibleRange.yMax]).nice(i)}},{key:"_validateOpts",value:function(t){if(t){if("object"!==(void 0===t?"undefined":(0,u.default)(t))||t instanceof Array)throw new Error("opts must be an object");if(t.startDate&&!this._validateDate(t.startDate))throw new Error("opts.startDate must be a valid Date");if(t.endDate&&!this._validateDate(t.endDate))throw new Error("opts.endDate must be a valid Date");if(t.startDate&&t.endDate&&t.startDate>t.endDate)throw new Error("opts.startDate must be on or before opts.endDate")}}},{key:"_validateDate",value:function(t){return this._parseDate(t).isValid()}},{key:"_parseDate",value:function(t){return"string"==typeof t?this.moment.utc(t,this.moment.ISO_8601):this.moment.utc(t)}},{key:"_setMargin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t._defaults.margin,r=this.config.margin||{};this.config.margin=(0,s.default)({},i,r,e),this.bus.emit(f.EventTypes.CONFIG_UPDATED,"margin",this.config.margin)}},{key:"_setBorder",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t._defaults.border,r=this.config.border||{};this.config.border=(0,s.default)({},i,r,e),this.bus.emit(f.EventTypes.CONFIG_UPDATED,"border",this.config.border)}},{key:"_setHeadroom",value:function(e){var i=t._defaults.headroom,r=isNaN(this.config.headroom)?i:this.config.headroom;this.config.headroom=r,isNaN(e)||null===e||(this.config.headroom=Math.max(e,1)),this.bus.emit(f.EventTypes.CONFIG_UPDATED,"headroom",this.config.headroom)}},{key:"_setColors",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this.d3.schemeCategory20,i=t.slice(0);this.config.colors=i.concat(e),this.bus.emit(f.EventTypes.CONFIG_UPDATED,"colors",this.config.colors)}},{key:"_setFirstDayOfWeek",value:function(e){var i=t._defaults.firstDayOfWeek,r=isNaN(this.config.firstDayOfWeek)?i:this.config.firstDayOfWeek;this.config.firstDayOfWeek=r,isNaN(e)||null===e||(this.config.firstDayOfWeek=Math.round(Math.max(0,Math.min(6,e)))),this.bus.emit(f.EventTypes.CONFIG_UPDATED,"firstDayOfWeek",this.config.firstDayOfWeek)}},{key:"_setTransition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t._defaults.transition,r=this.transition||{};if(this.transition=(0,s.default)({},i,r,e),"function"!=typeof this.transition.easing&&(this.transition.easing=this.d3[this.transition.easing],!this.transition.easing))throw new Error('Unknown easing function: "'+e.easing+'"');this.bus.emit(f.EventTypes.CONFIG_UPDATED,"transition",this.config.transition)}},{key:"_setRenderMode",value:function(e){if(this.config.renderMode=e||this.config.renderMode||t._defaults.renderMode,!f.RenderModes.includes(this.config.renderMode))throw new Error('Unknown renderMode: "'+this.config.renderMode+'"');if("canvas"===this.config.renderMode&&!this.konva)throw new Error('Missing dependency: konva is required for renderMode "canvas"');this.bus.emit(f.EventTypes.CONFIG_UPDATED,"renderMode",this.config.renderMode)}},{key:"_setAxes",value:function(e){this.config.axes=e||t._defaults.axes,this.bus.emit(f.EventTypes.CONFIG_UPDATED,"axes",this.config.axes)}},{key:"_setPlugins",value:function(e){this.config.plugins=e||t._defaults.plugins,this.bus.emit(f.EventTypes.CONFIG_UPDATED,"plugins",this.config.plugins)}},{key:"_setRenderers",value:function(e){this.config.renderers=e||t._defaults.renderers,this.bus.emit(f.EventTypes.CONFIG_UPDATED,"renderers",this.config.renderers)}},{key:"_setPeriod",value:function(e){this.config.period=e||t._defaults.period,this.bus.emit(f.EventTypes.CONFIG_UPDATED,"period",this.config.period)}},{key:"_setPeriodStep",value:function(e){this.config.periodStep=e||t._defaults.periodStep,this.bus.emit(f.EventTypes.CONFIG_UPDATED,"periodStep",this.config.periodStep)}},{key:"_setRootDOMElement",value:function(t){if("string"==typeof t&&(t=document.querySelector(t)),!(t instanceof HTMLElement))throw new Error(this.constructor.name+": root DOM element is required");this._el=t}},{key:"_setRootClass",value:function(t){t.classList.contains("tb-timeseries")||t.classList.add("tb-timeseries")}},{key:"data",get:function(){return this.dataset.entities}},{key:"markers",get:function(){return this.dataset.markers}},{key:"el",get:function(){return this._el}},{key:"size",get:function(){return{width:this.el.offsetWidth,height:this.el.offsetHeight}}},{key:"canvasWidth",get:function(){return Math.max(this.size.width-this.config.margin.left-this.config.margin.right,0)}},{key:"canvasHeight",get:function(){return Math.max(this.size.height-this.config.margin.top-this.config.margin.bottom,0)}},{key:"barWidth",get:function(){return this._barWidth||0},set:function(t){this._barWidth=t}},{key:"groupedData",get:function(){return this.dataset.grouped}},{key:"dataRange",get:function(){return this.dataset.range}},{key:"visibleRange",get:function(){return this._visibleRange}},{key:"period",get:function(){return this.dataset?this.dataset.period:this.config.period}},{key:"periodInterval",get:function(){return this.dataset.periodInterval}},{key:"periodStep",get:function(){return this.dataset.periodStep}},{key:"startDate",get:function(){return this._startDate},set:function(t){this._startDate=t?this.moment.utc(t,this.moment.ISO_8601).toDate():null}},{key:"endDate",get:function(){return this._endDate},set:function(t){this._endDate=t?this.moment.utc(t,this.moment.ISO_8601).toDate():null}}]),t}()).prototype,"loadData",[p.logTiming,r],(0,o.default)(a.prototype,"loadData"),a.prototype),C(a.prototype,"loadJSON",[p.logTiming],(0,o.default)(a.prototype,"loadJSON"),a.prototype),C(a.prototype,"loadMarkers",[p.logTiming,n],(0,o.default)(a.prototype,"loadMarkers"),a.prototype),C(a.prototype,"setConfig",[p.logTiming],(0,o.default)(a.prototype,"setConfig"),a.prototype),C(a.prototype,"tearDown",[p.logTiming,p.invalidate],(0,o.default)(a.prototype,"tearDown"),a.prototype),C(a.prototype,"destroy",[p.logTiming,p.invalidate],(0,o.default)(a.prototype,"destroy"),a.prototype),C(a.prototype,"getByDate",[p.logTiming,p.memoize],(0,o.default)(a.prototype,"getByDate"),a.prototype),C(a.prototype,"setAbsoluteIRI",[p.logTiming],(0,o.default)(a.prototype,"setAbsoluteIRI"),a.prototype),C(a.prototype,"_setDefaults",[p.logTiming],(0,o.default)(a.prototype,"_setDefaults"),a.prototype),C(a.prototype,"_setData",[p.logTiming],(0,o.default)(a.prototype,"_setData"),a.prototype),C(a.prototype,"_setMarkers",[p.logTiming],(0,o.default)(a.prototype,"_setMarkers"),a.prototype),C(a.prototype,"_onResize",[p.logTiming],(0,o.default)(a.prototype,"_onResize"),a.prototype),C(a.prototype,"_setResizable",[p.logTiming],(0,o.default)(a.prototype,"_setResizable"),a.prototype),C(a.prototype,"_setupLayers",[p.logTiming],(0,o.default)(a.prototype,"_setupLayers"),a.prototype),C(a.prototype,"_createSubComponents",[p.logTiming],(0,o.default)(a.prototype,"_createSubComponents"),a.prototype),C(a.prototype,"_createAxis",[p.logTiming],(0,o.default)(a.prototype,"_createAxis"),a.prototype),C(a.prototype,"_createPlugin",[p.logTiming],(0,o.default)(a.prototype,"_createPlugin"),a.prototype),C(a.prototype,"_createRenderer",[p.logTiming],(0,o.default)(a.prototype,"_createRenderer"),a.prototype),C(a.prototype,"_getComponentConfig",[p.logTiming],(0,o.default)(a.prototype,"_getComponentConfig"),a.prototype),C(a.prototype,"_setVisibleRange",[p.logTiming],(0,o.default)(a.prototype,"_setVisibleRange"),a.prototype),C(a.prototype,"_updateRange",[p.logTiming],(0,o.default)(a.prototype,"_updateRange"),a.prototype),C(a.prototype,"_setXScale",[p.logTiming],(0,o.default)(a.prototype,"_setXScale"),a.prototype),C(a.prototype,"_setYScale",[p.logTiming],(0,o.default)(a.prototype,"_setYScale"),a.prototype),C(a.prototype,"_validateOpts",[p.logTiming],(0,o.default)(a.prototype,"_validateOpts"),a.prototype),C(a.prototype,"_validateDate",[p.logTiming],(0,o.default)(a.prototype,"_validateDate"),a.prototype),C(a.prototype,"_parseDate",[p.logTiming],(0,o.default)(a.prototype,"_parseDate"),a.prototype),C(a.prototype,"_setMargin",[p.logTiming],(0,o.default)(a.prototype,"_setMargin"),a.prototype),C(a.prototype,"_setBorder",[p.logTiming],(0,o.default)(a.prototype,"_setBorder"),a.prototype),C(a.prototype,"_setHeadroom",[p.logTiming],(0,o.default)(a.prototype,"_setHeadroom"),a.prototype),C(a.prototype,"_setColors",[p.logTiming],(0,o.default)(a.prototype,"_setColors"),a.prototype),C(a.prototype,"_setFirstDayOfWeek",[p.logTiming],(0,o.default)(a.prototype,"_setFirstDayOfWeek"),a.prototype),C(a.prototype,"_setTransition",[p.logTiming],(0,o.default)(a.prototype,"_setTransition"),a.prototype),C(a.prototype,"_setRenderMode",[p.logTiming],(0,o.default)(a.prototype,"_setRenderMode"),a.prototype),C(a.prototype,"_setAxes",[p.logTiming],(0,o.default)(a.prototype,"_setAxes"),a.prototype),C(a.prototype,"_setPlugins",[p.logTiming],(0,o.default)(a.prototype,"_setPlugins"),a.prototype),C(a.prototype,"_setRenderers",[p.logTiming],(0,o.default)(a.prototype,"_setRenderers"),a.prototype),C(a.prototype,"_setPeriod",[p.logTiming],(0,o.default)(a.prototype,"_setPeriod"),a.prototype),C(a.prototype,"_setPeriodStep",[p.logTiming],(0,o.default)(a.prototype,"_setPeriodStep"),a.prototype),C(a.prototype,"_setRootDOMElement",[p.logTiming],(0,o.default)(a.prototype,"_setRootDOMElement"),a.prototype),a);e.default=A,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,n=f(i(13)),a=f(i(4)),o=f(i(5)),s=f(i(0)),u=f(i(7)),l=f(i(1)),h=f(i(6)),c=i(2),d=i(17);function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e,i,r,n){var a={};return Object.keys(r).forEach(function(t){a[t]=r[t]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(t,e,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(t,e,a),a=null),a}var v=(p((r=function(t){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.default)(this,e);var r=(0,u.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t));r._setPeriod(t.config.period),r._setPeriodStep(t.config.periodStep),r._format=r.d3.utcFormat,r.config=(0,a.default)({},e._defaults,i),r.moment=r.config.moment,r.config.tickMinWidth&&(r.userSetTickMinWidth=!0),r.tickMinWidth=r.config.tickMinWidth,r.tickPadding=r.config.tickPadding,r.tickSize=r.config.tickSize,r.gridConfig=r.config.grid,r.stripeConfig=r.config.stripe,r.stripeColor=r.config.stripeColor;var n=e._defaults.formatters,l=i.formatters||{};return r.formatters={minutely:(0,a.default)({},n.minutely,l.minutely),hourly:(0,a.default)({},n.hourly,l.hourly),daily:(0,a.default)({},n.daily,l.daily),weekly:(0,a.default)({},n.weekly,l.weekly),monthly:(0,a.default)({},n.monthly,l.monthly),yearly:(0,a.default)({},n.yearly,l.yearly)},r.config.locale&&(r.locale=r.d3.timeFormatLocale(r.config.locale),r._format=r.locale.utcFormat),r.$el.classed(c.ClassNames.X_AXIS,!0).classed(c.ClassNames.XMASK_TARGET,!0).attr("mask","url(#xmask-"+r.chart.uid+")"),r}return(0,h.default)(e,t),(0,l.default)(e,null,[{key:"_defaults",get:function(){return{grid:!0,stripe:!1,stripeColor:"rgba(0,0,0,0.05)",tickSize:0,tickPadding:8,tickMinWidth:30,formatters:{minutely:{base:"%-I:%M%p",minor:"%-I%p",major:"%-I%p"},hourly:{base:"%-I",minor:"%-I%p",major:"%-I%p"},daily:{base:"%-e",minor:"%b",major:"%b"},weekly:{base:"%-e",minor:"%b",major:"%b"},monthly:{base:"%b",minor:"%Y"},yearly:{base:"%Y"}}}}}]),(0,l.default)(e,[{key:"createStripeContainer",value:function(){this.$stripeContainer=this.$clipPath.append("svg:g").classed("stripes",!0)}},{key:"onConfigUpdated",value:function(t,e){switch(t){case"period":this._setPeriod(e);break;case"periodStep":this._setPeriodStep(e)}}},{key:"_setPeriod",value:function(t){this.period=t}},{key:"_setPeriodStep",value:function(t){this.periodStep=t}},{key:"tickFormatter",value:function(t,e){var i=this.tickResolution,r=this.axis.tickValues(),n=this.formatters[i.period],a=n.base;switch(i.period){case"minutely":0===t.getUTCMinutes()?a=n.major:60===t.getUTCMinutes()&&(a=n.minor);break;case"hourly":0===t.getUTCHours()?a=n.major:12===t.getUTCHours()&&(a=n.minor);break;case"weekly":if(e){var o=r[e-1];o.getUTCFullYear()!==t.getUTCFullYear()?a=n.major:o.getUTCMonth()!==t.getUTCMonth()&&(a=n.minor)}else if(t.getUTCMonth()){for(var s=!1,u=1;u<Math.min(3,r.length);u++)if(r[u].getUTCMonth()!==t.getUTCMonth()){s=!0;break}s||(a=n.minor)}else a=n.major;break;case"monthly":if(e)r[e-1].getUTCFullYear()!==t.getUTCFullYear()&&(a=n.minor);break;case"daily":default:if(1===t.getUTCDate())a=0===t.getUTCMonth()?n.major:n.minor;else if(0===e){for(var l=!1,h=1;h<Math.min(5,r.length);h++)if(r[h].getUTCMonth()!==t.getUTCMonth()){l=!0;break}l||(a=n.minor)}else t.getUTCMonth()!==r[e-1].getUTCMonth()&&(a=n.minor)}return this._format(a)(t)}},{key:"_dataIsContiguous",value:function(t){var e,i,r=this;return t.length>1&&1===(e=t[0],i=t[1],r.moment.utc(i).diff(r.moment.utc(e),"days"))}},{key:"_generateAlternateStripes",value:function(t){return t.xTicks.filter(function(t){return t.valueOf()%1728e5}).map(function(t){return{date:t,width:1}})}},{key:"_generateWeekendStripes",value:function(t){var e=this;return this._dataIsContiguous(t.xTicks)?t.xTicks.filter(function(t){var i=e.moment.utc(t);return[0,6].includes(i.day())}).reduce(function(t,i,r){if(0===r)return t.push({date:i,width:1}),t;var n=t[t.length-1],a=e.moment.utc(i).day(),o=e.moment.utc(n.date).day();return 0===a&&6===o?n.width=2:t.push({date:i,width:1}),t},[]):[]}},{key:"_drawStripes",value:function(t){var e=this.chart,i=e.canvasWidth,r=e.canvasHeight,n=e.visibleRange,a=e.xScale,o=e.config,s=void 0;"weekend"===this.stripeConfig?s=this._generateWeekendStripes(n):"alternate"===this.stripeConfig?s=this._generateAlternateStripes(n):(console.warn('Unknown stripe type, expected "weekend" or "alternate"'),s=[]);var u=n.xTicks.length,l=void 0;if(i<=0||r<=0)return this;l=u>1?i/(u-1):1===u?i:0,u&&this.$stripeContainer.attr("transform","translate(-"+l/2+", 0)");var h=this._prevXScale||a,c=this.$stripeContainer.selectAll("rect").data(s,function(t){return t.date});return c.exit().transition(t).attr("x",function(t){return a(t.date)}).remove(),c.enter().append("svg:rect").attr("x",function(t){return h(t.date)}).attr("y",o.margin.top).attr("width",function(t){return l*t.width}).attr("height",r).attr("fill",this.stripeColor).merge(c).transition(t).attr("x",function(t){return a(t.date)}).attr("width",function(t){return l*t.width}).attr("height",r),this._prevXScale=a.copy(),this}},{key:"render",value:function(){return this.axis?this.update(!0):(this.stripeConfig&&this.createStripeContainer(),this.gridConfig&&(this.grid=this.d3.axisBottom(this.chart.xScale).tickFormat(""),this.createGridContainer()),this.axis=this.d3.axisBottom(this.chart.xScale).tickPadding(this.tickPadding).tickSize(this.tickSize),this.$axisContainer=this.$el.append("svg:g").attr("class","ticks").call(this.axis),this.update(!1)),this}},{key:"update",value:function(t){if(!this.axis)return this;var e=this.chart,i=e.size,r=e.canvasHeight,n=this.chart.config.margin,a=-r,o=i.height-n.bottom,s=this.generateTicks();this.axis.scale(this.chart.xScale).tickValues(s.map(function(t){return t.date})).tickFormat(this.tickFormatter.bind(this));var u=this.d3.transition().duration(t?this.chart.transition.duration:0).ease(this.chart.transition.easing);return this.$axisContainer.attr("transform","translate(0, "+o+")").transition(u).call(this.axis),this.grid&&(this.grid.scale(this.chart.xScale).tickSize(a).tickValues(s.map(function(t){return t.date})),this.$gridContainer.attr("transform","translate(0, "+o+")").transition(u).call(this.grid),this.$gridContainer.selectAll("g.tick").classed("tick--major",function(t){var e=s.find(function(e){return e.date===t});return e&&e.isMajor})),this.stripeConfig&&this.$stripeContainer.transition(u).call(this._drawStripes.bind(this)),this}},{key:"generateTicks",value:function(){var t=[{period:"minutely",multiples:[10],momentString:"minute"},{period:"hourly",multiples:[1,2,3,4,6,8,12],momentString:"hour"},{period:"daily",multiples:[1,2,3],momentString:"day"},{period:"weekly",multiples:[1,2],momentString:"week"},{period:"monthly",multiples:[1,2,3,6],momentString:"month"},{period:"yearly",multiples:[1],momentString:"year"}],e=[],i=this.chart.visibleRange.xTicks,r=this.tickMinWidth,n=i.length,a=t.map(function(t){return t.period}).indexOf(this.period);-1===a&&(a=7);var o=void 0,s=t[a];s.multiplier=s.multiples[0];var u=this.chart.canvasWidth/n,l=function(){return u<=r};if(u>0)for(;l()&&a<t.length;)for(o=0,s=t[a++];l()&&o<s.multiples.length;){s.multiplier=s.multiples[o++];var h=t.map(function(t){return t.period}).indexOf(this.period),c=this.moment.duration(s.multiplier,s.momentString).as(t[h].momentString);u=this.chart.canvasWidth/n*c}this.tickResolution=s;for(var d=this.chart.visibleRange.xMin,f=this.chart.visibleRange.xMax,p=this.moment.utc(i[0]);p.toDate()<=+f;)p.toDate()>=+d&&e.push({date:p.toDate()}),p.add(Math.max(s.multiplier,this.periodStep),s.momentString);return e}}]),e}(f(i(57)).default)).prototype,"onConfigUpdated",[d.logTiming],(0,n.default)(r.prototype,"onConfigUpdated"),r.prototype),p(r.prototype,"_setPeriod",[d.logTiming],(0,n.default)(r.prototype,"_setPeriod"),r.prototype),p(r.prototype,"_setPeriodStep",[d.logTiming],(0,n.default)(r.prototype,"_setPeriodStep"),r.prototype),p(r.prototype,"tickFormatter",[d.logTiming],(0,n.default)(r.prototype,"tickFormatter"),r.prototype),p(r.prototype,"_drawStripes",[d.logTiming],(0,n.default)(r.prototype,"_drawStripes"),r.prototype),p(r.prototype,"render",[d.logTiming],(0,n.default)(r.prototype,"render"),r.prototype),p(r.prototype,"update",[d.logTiming],(0,n.default)(r.prototype,"update"),r.prototype),p(r.prototype,"generateTicks",[d.logTiming],(0,n.default)(r.prototype,"generateTicks"),r.prototype),r);e.default=v,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=h(i(4)),n=h(i(5)),a=h(i(0)),o=h(i(7)),s=h(i(1)),u=h(i(6)),l=i(2);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t,i){(0,a.default)(this,e);var s=(0,o.default)(this,(e.__proto__||(0,n.default)(e)).call(this,t));return s.config=(0,r.default)({},e._defaults,i),s.tickFormatter=s.config.tickFormatter.bind(s),s.tickPadding=s.config.tickPadding,s.tickSize=s.config.tickSize,s.tickCount=s.config.tickCount,s.gridConfig=s.config.grid,s.$el.classed(l.ClassNames.Y_AXIS,!0).classed(l.ClassNames.YMASK_TARGET,!0).attr("mask","url(#ymask-"+s.chart.uid+")"),s}return(0,u.default)(e,t),(0,s.default)(e,null,[{key:"_defaults",get:function(){return{grid:!0,tickCount:5,tickSize:0,tickPadding:8,tickFormatter:function(t){var e=Math.abs(t),i=void 0;return 0===e&&0===this.chart.visibleRange.yMin?"":(i=e<100?"f":".3s",this.d3.format(i)(t).replace("G","B").toUpperCase().replace(/(^.)*(\.0*)([A-Z]*)$/g,"$1$3"))}}}}]),(0,s.default)(e,[{key:"render",value:function(){return this.gridConfig&&!this.grid&&(this.grid=this.d3.axisLeft(this.chart.yScale).tickFormat("").tickSize(this.gridSize),this.createGridContainer(),this.$gridContainer.call(this.grid)),this.axis?this.update(!0):(this.axis=this.d3.axisLeft(this.chart.yScale).tickPadding(this.tickPadding).tickSize(this.tickSize),this.$axisContainer=this.$el.append("svg:g").attr("class","ticks").call(this.axis),this.update(!1)),this}},{key:"update",value:function(t){var e=this;return e.axis?(e.axis.ticks(e.tickCount).tickFormat(function(t){return e.tickFormatter(t)}),e.$axisContainer.attr("transform","translate("+e.chart.config.margin.left+", 0)").transition().duration(t?e.chart.transition.duration:0).ease(e.chart.transition.easing).call(e.axis),e.grid&&(e.grid.ticks(e.tickCount).tickSize(e.gridSize),e.$gridContainer.attr("transform","translate("+e.chart.config.margin.left+", 0)").transition().duration(t?e.chart.transition.duration:0).ease(e.chart.transition.easing).call(e.grid)),e):e}},{key:"tickCount",get:function(){var t=void 0;return this.chart.visibleRange&&(t=this.chart.visibleRange.yMax-this.chart.visibleRange.yMin),!isNaN(t)&&t<this._tickCount-1?t:this._tickCount},set:function(t){this._tickCount=t}},{key:"gridSize",get:function(){return-this.chart.canvasWidth}}]),e}(h(i(57)).default);e.default=c,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(i(39)),n=s(i(0)),a=s(i(1)),o=i(2);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(e){(0,n.default)(this,t),this.borderRadius=e.borderRadius,this.konva=e.konva,this.chart=e.chart,this.color=e.color,this.renderMode=e.renderMode,this.rendererConfig=e.rendererConfig,this.id=e.id,this.uid=this.chart.uid+"_"+this.id,this.bus=this.chart.bus,this.d3=this.chart.d3,"svg"===this.renderMode?this.$container=e.$container:this._currentFrameRenderCount=0,this._createContainer(),this._createRenderers(),this._addEventListeners()}return(0,a.default)(t,[{key:"_createContainer",value:function(){"svg"===this.renderMode?this.$el=this.$container.append("svg:g").classed(o.ClassNames.LAYER+"--"+this.id,!0):this.konvaLayer=new this.konva.Layer({x:this.chart.config.margin.left,y:this.chart.config.margin.top})}},{key:"_createRenderers",value:function(){var t=this;this.renderers=[].concat((0,r.default)(this.rendererConfig.values())).map(function(e){return e({id:t.id,konva:t.konva,color:t.color,$container:t.$el,chart:t.chart,borderRadius:t.borderRadius})}),this.konvaLayer&&this.renderers.forEach(function(e){t.konvaLayer.add(e.konvaGroup)})}},{key:"_onCanvasRendererPaint",value:function(t){t.id===this.id&&this.konvaLayer.draw()}},{key:"_addEventListeners",value:function(){this._bound={_onCanvasRendererPaint:this._onCanvasRendererPaint.bind(this)},this.bus.on(o.EventTypes.CANVAS_RENDERER_PAINT,this._bound._onCanvasRendererPaint)}},{key:"_removeEventListeners",value:function(){var t=this._bound;this.chart&&this.chart.bus&&t&&this.chart.bus.removeListener(o.EventTypes.CANVAS_RENDERER_PAINT,t._onCanvasRendererPaint)}},{key:"_updateRange",value:function(t){var e=this,i=this.d3.transition(this.uid+".range").duration(t?0:this.chart.transition.duration).ease(this.chart.transition.easing);this.renderers.forEach(function(t){return t.setVisibleRange(e.visibleRange,i)})}},{key:"setVisibleRange",value:function(t,e){this._visibleRange=t,this._updateRange(e)}},{key:"render",value:function(){this.renderers.forEach(function(t){return t.render()})}},{key:"onResize",value:function(){this.renderers.forEach(function(t){return t.onResize()}),this.konvaLayer.draw()}},{key:"tearDown",value:function(){this.renderers.forEach(function(t){return t.tearDown()}),this.konvaLayer&&this.konvaLayer.remove(),this.bus.emit(o.EventTypes.LAYER_TEARDOWN_COMPLETE,this.id)}},{key:"destroy",value:function(){this._removeEventListeners(),this.renderers.forEach(function(t){return t.destroy()}),delete this.renderers,"svg"===this.renderMode&&this.$el.remove(),delete this.$el,delete this.chart}},{key:"visibleRange",get:function(){return this._visibleRange}},{key:"data",get:function(){return this._data||[]},set:function(t){var e=this;this._data=t.sort(function(t,e){return t.date-e.date});var i=this.d3.transition(this.uid+".data").duration(this.chart.transition.duration).ease(this.chart.transition.easing);this.renderers.forEach(function(t){return t.setData(e._data,i)})}}]),t}();e.default=u,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=l(i(39)),n=l(i(38)),a=l(i(0)),o=l(i(1)),s=l(i(79)),u=i(2);function l(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(e,i){(0,a.default)(this,t),this.chart=e,this.bus=this.chart.bus,this.d3=i.d3,this.konva=i.konva,this.borderRadius=i.border.radius,this.borderColor=i.border.stroke,this.borderWidth=i.border.strokeWidth,this.renderMode=i.renderMode,this.layers=new n.default,this.rendererConfig=new n.default,this._addEventListeners(),this._createContainer()}return(0,o.default)(t,[{key:"_createContainer",value:function(){"svg"===this.renderMode?(this.$el=this.chart.$renderContainer,this.$border=this.chart.$preRenderContainer.append("svg:rect").classed(u.ClassNames.BORDER,!0).attr("x",this.chart.config.margin.left+.5).attr("y",this.chart.config.margin.top+.5).attr("width",this.chart.canvasWidth).attr("height",this.chart.canvasHeight).attr("stroke",this.borderColor).attr("stroke-width",this.borderWidth).attr("fill","none"),this.borderRadius&&this.$border.attr("rx",this.borderRadius).attr("ry",this.borderRadius)):(this.konvaContainer=this.konvaContainer||this.chart.el.appendChild(document.createElement("div")),this.konvaContainer.classList.add(u.ClassNames.STAGE_CANVAS),this.konvaStage=this.konvaStage||new this.konva.Stage({width:this.chart.size.width,height:this.chart.size.height,container:this.konvaContainer}),this.borderLayer=this.borderLayer||new this.konva.Layer({listening:!1}),this.borderShape=this.borderShape||new this.konva.Rect({stroke:this.borderColor,strokeWidth:this.borderWidth}),this.borderLayer.add(this.borderShape),this.konvaStage.add(this.borderLayer),this._drawBorder())}},{key:"register",value:function(t,e){!1!==e&&this.rendererConfig.set(t,e)}},{key:"onDataUpdated",value:function(){var t=this,e=[].concat((0,r.default)(this.data.keys()));return[].concat((0,r.default)(this.layers.keys())).forEach(function(e){t.data.has(e)||t.layers.get(e).tearDown()}),e.forEach(function(e){if(!t.layers.has(e)){var i=new s.default({id:e,konva:t.konva,color:t.data.get(e).color,chart:t.chart,renderMode:t.renderMode,$container:t.chart.$renderContainer,rendererConfig:t.rendererConfig,borderRadius:t.borderRadius});t.layers.set(e,i),t.konvaStage&&t.konvaStage.add(i.konvaLayer)}}),this.layers.forEach(function(e,i){t.data.has(i)&&(e.data=t.data.get(i).values)}),this}},{key:"onRangeUpdated",value:function(){var t=this;return this.layers.forEach(function(e){e.setVisibleRange(t.chart.visibleRange)}),this}},{key:"onResize",value:function(){var t=this;return"svg"===this.renderMode?this.$border.attr("width",this.chart.canvasWidth).attr("height",this.chart.canvasHeight):this._resizeCanvas(),this.layers.forEach(function(e){return e.setVisibleRange(t.chart.visibleRange,!0)}),this}},{key:"_destroyLayer",value:function(t){var e=this.layers.get(t);e&&(e.destroy(),this.layers.delete(t),this._ready&&this._ready.delete(t))}},{key:"_resizeCanvas",value:function(){var t=this.chart.size.width,e=this.chart.size.height;this.konvaStage.size({width:t,height:e}),this._drawBorder(),this.layers.forEach(function(t){return t.onResize()})}},{key:"_drawBorder",value:function(){var t=this.chart.config.margin.left-.5,e=this.chart.config.margin.top-.5,i=this.chart.canvasWidth+1,r=this.chart.canvasHeight+1,n=this.borderRadius+1;this.borderShape.position({x:t,y:e}),this.borderShape.size({width:i,height:r}),this.borderShape.cornerRadius(n),this.borderLayer.draw()}},{key:"_addEventListeners",value:function(){this._bound={onDataUpdated:this.onDataUpdated.bind(this),onRangeUpdated:this.onRangeUpdated.bind(this),onResize:this.onResize.bind(this),tearDown:this.tearDown.bind(this),_destroyLayer:this._destroyLayer.bind(this)},this.bus.on(u.EventTypes.DATA_UPDATED_INTERNAL,this._bound.onDataUpdated),this.bus.on(u.EventTypes.RANGE_UPDATED,this._bound.onRangeUpdated),this.bus.on(u.EventTypes.RESIZE,this._bound.onResize),this.bus.on(u.EventTypes.TEARDOWN,this._bound.tearDown),this.bus.on(u.EventTypes.LAYER_TEARDOWN_COMPLETE,this._bound._destroyLayer)}},{key:"_removeEventListeners",value:function(){var t=this._bound;this.bus&&t&&(this.bus.removeListener(u.EventTypes.DATA_UPDATED_INTERNAL,t.onDataUpdated),this.bus.removeListener(u.EventTypes.RANGE_UPDATED,t.onRangeUpdated),this.bus.removeListener(u.EventTypes.RESIZE,t.onResize),this.bus.removeListener(u.EventTypes.TEARDOWN,t.tearDown),this.bus.removeListener(u.EventTypes.LAYER_TEARDOWN_COMPLETE,t._destroyLayer))}},{key:"tearDown",value:function(){return this.layers.forEach(function(t){return t.tearDown()}),this}},{key:"destroy",value:function(){var t=this;this._removeEventListeners(),this.layers.forEach(function(e,i){return t._destroyLayer(i)}),delete this.layers,"svg"===this.renderMode&&(this.$el.remove(),this.$border.remove(),delete this.$el,delete this.$border),delete this.chart}},{key:"data",get:function(){return this.chart.groupedData}}]),t}();e.default=h,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=c(i(4)),n=c(i(5)),a=c(i(0)),o=c(i(1)),s=c(i(7)),u=c(i(6)),l=c(i(22)),h=i(2);function c(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(){return(0,a.default)(this,e),(0,s.default)(this,(e.__proto__||(0,n.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,o.default)(e,[{key:"_setDisplayProps",value:function(t){var i=(0,r.default)({},e._defaults,t);this.strokeWidth=i.strokeWidth,this.strokeColor=i.strokeColor}},{key:"render",value:function(){var t=this.chart.size.height-this.chart.config.margin.bottom;return this.$el=this.$el||this.chart.$preRenderContainer.append("svg:g").classed(h.ClassNames.CLIP_TARGET,!0).attr("clip-path","url(#clip-"+this.chart.uid+")"),this.$cursor=this.$cursor||this.$el.append("line").classed(h.ClassNames.CURSOR,!0).classed(h.ClassNames.HIDDEN,!0).attr("x1",0).attr("y1",this.chart.config.margin.top).attr("x2",0).attr("y2",t).attr("stroke",this.strokeColor).attr("stroke-width",this.strokeWidth),this}},{key:"update",value:function(){if(this.highlightedDate){var t=this.chart.getByDate(this.highlightedDate);if(this.isVisible){if(t.points&&t.points.length){var e=Math.round(this.chart.xScale(this.highlightedDate))+.5;+this.highlightedDate==+this.chart.visibleRange.xMax&&(e-=.5),this.$cursor.attr("style","transform:translate("+e+"px)"),this._show()}}else this._hide()}return this}},{key:"_highlightDate",value:function(t){clearTimeout(this._debounce),this.highlightedDate=t.date,this.isVisible=!0,this.update()}},{key:"_unhighlightDate",value:function(){var t=this;this._debounce=setTimeout(function(){t.isVisible=!1,t.update()},10)}},{key:"_show",value:function(){return this.$cursor.classed(h.ClassNames.HIDDEN,!1),this}},{key:"_hide",value:function(){return this.$cursor&&this.$cursor.classed(h.ClassNames.HIDDEN,!0),this}},{key:"tearDown",value:function(){return this._hide(),clearTimeout(this._debounce),delete this.highlightedDate,delete this.isVisible,delete this._debounce,this}},{key:"destroy",value:function(){this._removeEventListeners(),this.$el&&this.$el.remove(),this.$cursor&&this.$cursor.remove(),delete this.$el,delete this.$cursor,delete this.chart}}],[{key:"_defaults",get:function(){return{strokeWidth:1,strokeColor:"#aaa"}}},{key:"_listeners",get:function(){return{DATA_UPDATED:"update",RANGE_UPDATED:"update",RESIZE:"update",HIGHLIGHT_DATE:"_highlightDate",UNHIGHLIGHT_DATE:"_unhighlightDate",TEARDOWN:"tearDown"}}}]),e}(l.default);e.default=d,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=h(i(5)),n=h(i(0)),a=h(i(1)),o=h(i(7)),s=h(i(6)),u=h(i(22)),l=i(2);function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(){return(0,n.default)(this,e),(0,o.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,a.default)(e,[{key:"_setDisplayProps",value:function(){}},{key:"render",value:function(){return this.$el=this.$el||this.chart.$postRenderContainer.append("svg:g").classed(l.ClassNames.HIT_AREAS,!0),this}},{key:"update",value:function(){var t=this,e=this.chart.visibleRange.xTicks,i=this.chart,r=i.canvasWidth,n=i.canvasHeight,a=e.length,o=void 0;return r<=0||n<=0?this:(o=a>1?r/(a-1):1===a?r:0,a&&this.$el.attr("transform","translate(-"+o/2+")"),this.rects=this.$el.selectAll("rect").data(e,function(t){return+t}),this.rects.exit().remove(),this.rects=this.rects.enter().append("svg:rect").attr("fill","transparent").on("mouseover",function(e){return t.onHover(e)}).on("mouseout",function(){return t.onUnhover()}).on("click",function(e){return t.onClick(e)}).merge(this.rects).attr("x",function(e){return t.chart.xScale(e).toFixed(1)}).attr("y",this.chart.config.margin.top).attr("width",function(){return o.toFixed(1)}).attr("height",n),this)}},{key:"onHover",value:function(t){var e=this.chart.getByDate(t),i={date:t,points:e.points,markers:e.markers};(i.points.length||i.markers.length)&&this.chart.bus.emit(l.EventTypes.HIGHLIGHT_DATE,i)}},{key:"onUnhover",value:function(){this.chart.bus.emit(l.EventTypes.UNHIGHLIGHT_DATE)}},{key:"onClick",value:function(t){var e=this.chart.getByDate(t),i={date:t,points:e.points,markers:e.markers};this.chart.bus.emit(l.EventTypes.SELECT_DATE,i)}},{key:"tearDown",value:function(){return this.$el&&(this.$el.attr("transform",""),this.$el.selectAll("rect").remove()),delete this.rects,this}},{key:"destroy",value:function(){this._removeEventListeners(),this.$el&&this.$el.remove(),delete this.$el,delete this.chart}}],[{key:"_listeners",get:function(){return{DATA_UPDATED:"update",RANGE_UPDATED:"update",RESIZE:"update",TEARDOWN:"tearDown"}}}]),e}(u.default);e.default=c,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=c(i(4)),n=c(i(5)),a=c(i(0)),o=c(i(1)),s=c(i(7)),u=c(i(6)),l=c(i(22)),h=i(2);function c(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(){return(0,a.default)(this,e),(0,s.default)(this,(e.__proto__||(0,n.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,o.default)(e,[{key:"_setDisplayProps",value:function(t){var i=(0,r.default)({},e._defaults,t);this.container=this.chart.el,this.noDataFormatter=i.noDataFormatter.bind(this)}},{key:"render",value:function(){this.info=document.createElement("div"),this.info.classList.add(h.ClassNames.INFO,h.ClassNames.INFO_HIDDEN),this.message=document.createElement("div"),this.message.classList.add(h.ClassNames.INFO_CONTENT),this.info.appendChild(this.message),this.container.appendChild(this.info)}},{key:"update",value:function(){var t=this;this.data=[],this.chart.data.forEach(function(e){t.data=t.data.concat(e.values)}),this.data.length?(this.container.classList.remove(h.ClassNames.NO_DATA),this._hide()):(this.message.innerHTML=this.noDataFormatter(),this.container.classList.add(h.ClassNames.NO_DATA),this._show())}},{key:"_show",value:function(){return this.info.classList.remove(h.ClassNames.INFO_HIDDEN),this}},{key:"_hide",value:function(){return this.info.classList.add(h.ClassNames.INFO_HIDDEN),this}},{key:"tearDown",value:function(){var t=this;return this._hide(),setTimeout(function(){delete t.data,t.message&&(t.message.innerHTML=""),t.container&&t.container.classList.remove(h.ClassNames.NO_DATA)},200),this}},{key:"destroy",value:function(){this.tearDown(),this._removeEventListeners(),this.info&&this.info.remove(),delete this._bound,delete this.chart,delete this.container,delete this.config,delete this.noDataFormatter,delete this.info,delete this.message,delete this.data}}],[{key:"_defaults",get:function(){return{noDataFormatter:function(){return"No data available"}}}},{key:"_listeners",get:function(){return{DATA_UPDATED:"update",TEARDOWN:"tearDown"}}}]),e}(l.default);e.default=d,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=c(i(4)),n=c(i(5)),a=c(i(0)),o=c(i(1)),s=c(i(7)),u=c(i(6)),l=c(i(22)),h=i(2);function c(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(){return(0,a.default)(this,e),(0,s.default)(this,(e.__proto__||(0,n.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,o.default)(e,[{key:"_setDisplayProps",value:function(t){var i=(0,r.default)({},e._defaults,t);this.strokeColor=i.strokeColor,this.strokeWidth=i.strokeWidth,this.strokeDashArray=i.strokeDashArray,this.strokeDashOffset=i.strokeDashOffset}},{key:"render",value:function(){return this.$el=this.$el||this.chart.$preRenderContainer.append("svg:g").classed(h.ClassNames.MARKERS,!0).attr("clip-path","url(#clip-"+this.chart.uid+")"),this}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.transition,e=this.chart,i=e.markers,r=e.canvasWidth,n=e.canvasHeight,a=e.size,o=e.config,s=e.xScale,u=e.transition,l=i,c=a.height-o.margin.bottom;return r<=0||n<=0?this:(this.markers=this.$el.selectAll("line").data(l,function(t){return+t.date}),this.markers.exit().remove(),this.markers=this.markers.enter().append("svg:line").classed(h.ClassNames.MARKER,!0).attr("x1",0).attr("y1",o.margin.top).attr("x2",0).attr("y2",c).attr("stroke",this.strokeColor).attr("stroke-width",this.strokeWidth).attr("stroke-dasharray",this.strokeDashArray).attr("stroke-dashoffset",this.strokeDashOffset).attr("style",function(t){return"transform:translate("+s(t.date)+"px)"}).merge(this.markers).transition().duration(t).ease(u.easing).attr("style",function(t){return"transform:translate("+s(t.date)+"px)"}).attr("class",function(t){return t.className||h.ClassNames.MARKER}),this)}},{key:"onResize",value:function(){this.update(0)}},{key:"tearDown",value:function(){return this.$el&&this.$el.selectAll("line").remove(),delete this.markers,this}},{key:"destroy",value:function(){this.tearDown(),this._removeEventListeners(),this.$el&&this.$el.remove(),delete this._bound,delete this.$el,delete this.chart}}],[{key:"_defaults",get:function(){return{strokeColor:"rgba(0,0,0,0.1)",strokeWidth:3,strokeDashArray:4,strokeDashOffset:0}}},{key:"_listeners",get:function(){return{MARKERS_UPDATED:"update",RANGE_UPDATED:"update",RESIZE:"onResize",TEARDOWN:"tearDown"}}}]),e}(l.default);e.default=d,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=c(i(4)),n=c(i(5)),a=c(i(0)),o=c(i(1)),s=c(i(7)),u=c(i(6)),l=c(i(22)),h=i(2);function c(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(){return(0,a.default)(this,e),(0,s.default)(this,(e.__proto__||(0,n.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,o.default)(e,[{key:"_setDisplayProps",value:function(t){var i=(0,r.default)({},e._defaults,t);this.borderRadius=i.borderRadius,this.xFade=i.xFade,this.yFade=i.yFade,this.xOffset=i.xOffset,this.yOffset=i.yOffset}},{key:"render",value:function(){var t=this,e=this.chart.$defsContainer,i=this.chart.config.margin;return this.$el=e,this.$clipPath=this.$clipPath||this.$el.append("clipPath").attr("id","clip-"+this.chart.uid),this.$clipRect=this.$clipRect||this.$clipPath.append("rect").attr("x",i.left).attr("y",i.top),this.$xMask=this.$xMask||this.$el.append("mask").attr("id","xmask-"+this.chart.uid),this.$yMask=this.$yMask||this.$el.append("mask").attr("id","ymask-"+this.chart.uid),this.$xyMask=this.$xyMask||this.$el.append("mask").attr("id","mask-"+this.chart.uid),this.$xGradient=this.$xGradient||this.$el.append("linearGradient").attr("id","xgrad-"+this.chart.uid),this.$yGradient=this.$yGradient||this.$el.append("linearGradient").attr("id","ygrad-"+this.chart.uid).attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",1),this.$xStops=this.$xStops||[0,1,1,0].map(function(e){return t.$xGradient.append("stop").attr("stop-color","#fff").attr("stop-opacity",e)}),this.$yStops=this.$yStops||[0,1,1,0].map(function(e){return t.$yGradient.append("stop").attr("stop-color","#fff").attr("stop-opacity",e)}),this.$xMaskRect=this.$xMaskRect||this.$xMask.append("rect").attr("x",i.left-this.xFade-this.xOffset).attr("y",i.top-this.yFade-this.yOffset).attr("fill","url(#xgrad-"+this.chart.uid+")").classed(h.ClassNames.XGRAD_TARGET,!0),this.$yMaskRect=this.$yMaskRect||this.$yMask.append("rect").attr("x",i.left-this.xFade-this.xOffset).attr("y",i.top-this.yFade-this.yOffset).attr("fill","url(#ygrad-"+this.chart.uid+")").classed(h.ClassNames.YGRAD_TARGET,!0),this.$xyMaskRect=this.$xyMaskRect||this.$xyMask.append("rect").attr("x",i.left-this.xFade-this.xOffset).attr("y",i.top-this.yFade-this.yOffset).attr("fill","url(#xgrad-"+this.chart.uid+")").attr("mask","url(#ymask-"+this.chart.uid+")").classed(h.ClassNames.XGRAD_TARGET,!0).classed(h.ClassNames.YMASK_TARGET,!0),this.borderRadius&&this.$clipRect.attr("rx",this.borderRadius).attr("ry",this.borderRadius),this.update()}},{key:"update",value:function(){var t=this.chart,e=t.canvasWidth,i=t.canvasHeight;if(e<=0||i<=0)return this;var r=e+2*this.xFade+2*this.xOffset,n=i+2*this.yFade+2*this.yOffset,a=this.xFade/r*100,o=(r-this.xFade)/r*100,s=this.yFade/n*100,u=(n-this.yFade)/n*100,l=["0%",a+"%",o+"%","100%"],h=["0%",s+"%",u+"%","100%"];return this.$xStops.forEach(function(t,e){t.attr("offset",l[e])}),this.$yStops.forEach(function(t,e){t.attr("offset",h[e])}),this.$clipRect.attr("width",e).attr("height",i),this.$xMaskRect.attr("width",r).attr("height",n),this.$yMaskRect.attr("width",r).attr("height",n),this.$xyMaskRect.attr("width",r).attr("height",n),this}},{key:"tearDown",value:function(){}},{key:"destroy",value:function(){this._removeEventListeners(),this.$clipPath&&this.$clipPath.remove(),delete this.$el,delete this.$clipPath,delete this.$clipRect,delete this.$xMask,delete this.$yMask,delete this.$xyMask,delete this.$xGradient,delete this.$yGradient,delete this.$xStops,delete this.$yStops,delete this.$xMaskRect,delete this.$yMaskRect,delete this.$xyMaskRect,delete this.chart}}],[{key:"_defaults",get:function(){return{xFade:50,yFade:30,xOffset:20,yOffset:10}}},{key:"_listeners",get:function(){return{RESIZE:"update"}}}]),e}(l.default);e.default=d,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.composeMutators=e.yPosMutator=e.xPosMutator=e.removeStyles=void 0;var r=o(i(106)),n=o(i(107)),a=i(37);function o(t){return t&&t.__esModule?t:{default:t}}var s=e.removeStyles=function(){return function(t){["right","left","top","transform","marginTop","marginBottom"].forEach(function(e){t.style[e]=""})}},u=function(t,e){return function(t){return[a.POSITION.TOP,a.POSITION.BOTTOM].includes(t)?a.POSITION.MIDDLE:t}(e)===t},l=function(t){return t.selectedX-t.containerWidth+t.marginRight>0},h=function(t){var e=t.selectedX,i=t.containerWidth,r=t.chartWidth;return e+i+t.marginLeft<r},c=function(t){var e=t.containerWidth,i=(0,n.default)(t,["containerWidth"]);return l((0,r.default)({containerWidth:e/2},i))&&h((0,r.default)({containerWidth:e/2},i))},d=function(t,e,i){return function(r,n){return e(n)&&(u(t,r)||i.reduce(function(t,e){return t&&!e(n)},!0))}},f=d(a.POSITION.LEFT,l,[c,h]),p=d(a.POSITION.RIGHT,h,[l,c]),v=e.xPosMutator=function(t,e){return f(t,e)?(r=(i=e).chartWidth,n=i.selectedX,a=i.marginRight,function(t){t.style.right=r-n+a+"px",t.style.left="auto"}):p(t,e)?function(t){var e=t.selectedX,i=t.marginLeft;return function(t){t.style.left=e+i+"px",t.style.right="auto"}}(e):function(t){var e=t.containerWidth,i=t.selectedX;return function(t){t.style.left=i-e/2+"px"}}(e);var i,r,n,a},y=e.yPosMutator=function(t,e){return t===a.POSITION.BOTTOM?(i=e.marginBottom,function(t){t.style.marginTop="-"+(i-10)+"px",t.style.top="100%"}):t===a.POSITION.RIGHT?(r=e.chartHeight,function(t){t.style.top=(r-10)/2+"px",t.style.transform="translateY(-50%)"}):(n=e.marginTop,function(t){t.style.marginBottom="-"+(n-10)+"px",t.style.bottom="100%"});var i,r,n},_=e.composeMutators=function(t){return function(e){return t.forEach(function(t){return t(e)})}};e.default=function(t,e){return _([s,v(t,e),y(t,e)])}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=v(i(4)),n=v(i(103)),a=v(i(5)),o=v(i(0)),s=v(i(1)),u=v(i(7)),l=v(i(6)),h=v(i(22)),c=i(2),d=i(86),f=v(d),p=i(37);function v(t){return t&&t.__esModule?t:{default:t}}function y(t){var e=this.chart.moment.utc(t.date).format("ddd MMM D, Y"),i=t.points,r=t.markers,n='\n        <div class="'+c.ClassNames.TOOLTIP_HEADER+'">'+e+"</div>\n    ",a=i.map(function(t){return'\n        <li>\n            <i style="background-color:'+t.color+'"></i>\n            <b>'+t.value+"</b>\n        </li>\n    "}).join("\n"),o="";i.length&&(o='\n            <ul class="'+c.ClassNames.TOOLTIP_LIST+" "+c.ClassNames.TOOLTIP_LIST_POINTS+'">\n                '+a+"\n            </ul>\n        ");var s=r.map(function(t){return"\n        <li>"+t.title+"</li>\n    "}).join("\n"),u="";return r.length&&(u='\n            <ul class="'+c.ClassNames.TOOLTIP_LIST+" "+c.ClassNames.TOOLTIP_LIST_MARKERS+'">\n                '+s+"\n            </ul>\n        "),"\n        "+n+"\n        "+o+"\n        "+u+"\n    "}var _=function(t){function e(){return(0,o.default)(this,e),(0,u.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,s.default)(e,[{key:"_validatePosition",value:function(t){var e=(0,n.default)(p.POSITION);if(!e.includes(t))throw new Error('Invalid tooltip position "'+t+'", expected '+e)}},{key:"_setDisplayProps",value:function(t){var i=(0,r.default)({},e._defaults,t);this._validatePosition(i.position),this.position=i.position,this.formatter=i.formatter.bind(this),this.window=i.window}},{key:"render",value:function(){return this.container=this.container||document.createElement("div"),this.container.classList.add(c.ClassNames.TOOLTIP),this.container.classList.add(c.ClassNames.HIDDEN),this.chart.el.appendChild(this.container),this.update()}},{key:"_containerWidth",value:function(){return this.container.getBoundingClientRect().width}},{key:"_setPosition",value:function(){(0,f.default)(this.position,{windowWidth:this.window.innerWidth,containerWidth:this._containerWidth(),selectedX:this.chart.xScale(this.highlightedDate),chartWidth:this.chart.size.width,marginTop:this.chart.config.margin.top,marginBottom:this.chart.config.margin.bottom,marginLeft:20,marginRight:20,chartHeight:this.chart.size.height})(this.container)}},{key:"update",value:function(){if(this.highlightedDate){var t=this.chart.getByDate(this.highlightedDate);this.isVisible?(t.points.length||t.markers.length)&&(this._resetContent(),this.container.innerHTML=this.formatter(t),this._setPosition(),this._show()):this._hide()}return this}},{key:"_highlightDate",value:function(t){clearTimeout(this._debounce),this.highlightedDate=t.date,this.isVisible=!0,this.update()}},{key:"_unhighlightDate",value:function(){var t=this;this._debounce=setTimeout(function(){t.isVisible=!1,t.update()},10)}},{key:"_resetContent",value:function(){this.container&&(this.container.classList.add(c.ClassNames.HIDDEN),this.container.innerHTML="")}},{key:"_resetPosition",value:function(){this.container&&(this.container.classList.add(c.ClassNames.HIDDEN),(0,d.removeStyles)(this.container))}},{key:"_show",value:function(){return clearTimeout(this._resetPositionTimer),this.container.classList.remove(c.ClassNames.HIDDEN),this}},{key:"_hide",value:function(){return this.container&&this.container.classList.add(c.ClassNames.HIDDEN),this._resetPositionTimer=setTimeout(this._resetPosition.bind(this),200),this}},{key:"tearDown",value:function(){return this._hide(),this._resetContent(),clearTimeout(this._resetPositionTimer),this._resetPosition(),clearTimeout(this._debounce),delete this.highlightedDate,delete this.isVisible,delete this._debounce,delete this._resetPositionTimer,this}},{key:"destroy",value:function(){this.tearDown(),this._removeEventListeners(),this.container&&this.container.remove(),delete this._bound,delete this.container,delete this.chart,delete this.position,delete this.formatter}}],[{key:"_defaults",get:function(){return{position:"top",formatter:y,window:window}}},{key:"_listeners",get:function(){return{DATA_UPDATED:"update",RANGE_UPDATED:"update",RESIZE:"update",HIGHLIGHT_DATE:"_highlightDate",UNHIGHLIGHT_DATE:"_unhighlightDate",TEARDOWN:"tearDown"}}}]),e}(h.default);e.default=_,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.POSITION=void 0;var r,n=i(87),a=(r=n)&&r.__esModule?r:{default:r},o=i(37);e.POSITION=o.POSITION,e.default=a.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=l(i(5)),n=l(i(0)),a=l(i(1)),o=l(i(7)),s=l(i(25)),u=l(i(6));function l(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t){var i;(0,n.default)(this,e);for(var a=arguments.length,s=Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=arguments[u];var l=(0,o.default)(this,(i=e.__proto__||(0,r.default)(e)).call.apply(i,[this,t].concat(s)));return l.borderRadius=t.borderRadius,l}return(0,u.default)(e,t),(0,a.default)(e,[{key:"_createContainer",value:function(){this.konvaGroup=new this.konva.Group}},{key:"_setDisplayProps",value:function(t){(0,s.default)(e.prototype.__proto__||(0,r.default)(e.prototype),"_setDisplayProps",this).call(this,t),this._drawState={}}}]),e}(l(i(29)).default);e.default=h,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,n=v(i(13)),a=v(i(4)),o=v(i(5)),s=v(i(0)),u=v(i(1)),l=v(i(7)),h=v(i(25)),c=v(i(6)),d=i(96),f=i(2),p=i(17);function v(t){return t&&t.__esModule?t:{default:t}}var y,_,g,m,k,b,T=(r=function(t){function e(){return(0,s.default)(this,e),(0,l.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,c.default)(e,t),(0,u.default)(e,[{key:"_createContainer",value:function(){var t=this;(0,h.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"_createContainer",this).call(this),this.konvaShape=new this.konva.Shape({listening:!1,sceneFunc:function(e){return t._drawFunc(e)},stroke:this.strokeColor,strokeWidth:this.strokeWidth}),this.konvaGroup.add(this.konvaShape),setTimeout(function(){return t.onResize()},0)}},{key:"_setDisplayProps",value:function(t){var i=this;(0,h.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"_setDisplayProps",this).call(this,t),this.curve=this.config.curve||this.d3.curveLinear,this.lineFunc=this.d3.line().curve(this.curve).defined(function(t){return!!i.config.interpolateNulls||i._nullFilter(t)})}},{key:"_nullFilter",value:function(t){return null!==t.value&&!isNaN(t.value)}},{key:"compose",value:function(t,e){var i=this.chart.visibleRange,r=i.xTicks.map(function(t){return+t});return t.concat(e).filter(function(t){var e=+t.date;return e<+i.xMin||e>+i.xMax||r.includes(e)}).reduce(function(t,e){var i=t.findIndex(function(t){return+t.date==+e.date});if(-1===i)return t.push((0,a.default)({},e)),t;var r=t[i].value,n=e.value;return(null===r||isNaN(r)||null===n||isNaN(n))&&(t[i]=(0,a.default)({},e,{value:n})),t},[]).sort(function(t,e){return t.date-e.date})}},{key:"setData",value:function(t,e){var i=this,r=!this.config.interpolateNulls;if(this._data&&(this._prevData=this._data),r)for(var n=this.chart.visibleRange.xTicks,a=t.map(function(t){return+t.date}),o=a[0],s=a[a.length-1],u=0;u<n.length;u++){var l=n[u];+l>o&&+l<s&&!a.includes(+l)&&t.splice(u,0,{date:l})}this._data=t,this._data&&this._prevData&&(this._preMerge=this.compose(this._prevData,this._data,r),this._postMerge=this._preMerge.map(function(t){var e=i._data.findIndex(function(e){return+e.date==+t.date});return-1!==e?i._data[e]:t})),this._updateDataState(e)}},{key:"setVisibleRange",value:function(t,i){(0,h.default)(e.prototype.__proto__||(0,o.default)(e.prototype),"setVisibleRange",this).call(this,t),this.x.range([0,this.chart.canvasWidth]),this.y.range([this.chart.canvasHeight,0]),this._updateRangeState(i)}},{key:"_updateDataState",value:function(t){var e=this,i=this.d3.interpolate,r=this.data,n=this.data,a=isNaN(this._drawState.opacity)?1:this._drawState.opacity;if(this._hasRendered){if(this._inProgress){var o=this._drawState.data;r=this.compose(o,this._preMerge,!this.config.interpolateNulls)}else r=this.preMergeData;n=this.postMergeData}else a=0;var s=i(r,n),u=i(a,1);return t.tween(this.id,function(){return function(t){e._drawState.opacity=u(t),e._drawState.data=s(t),e.render()}}).on("start",function(){e._hasRendered=!0,e._inProgress=!0}).on("end",function(){e._drawState.data=e.data,setTimeout(function(){e._inProgress=!1},0)}),this}},{key:"_updateRangeState",value:function(t){var e=this,i=this.d3.interpolate,r=void 0,n=void 0,a=void 0,o=void 0;return t.tween(this.id,function(){return function(t){e._drawState.xRange=r(t),e._drawState.yRange=n(t),e._drawState.xDomain=a(t),e._drawState.yDomain=o(t),e.render()}}).on("start",function(){var t=e._drawState.xRange||e.x.range(),s=e._drawState.yRange||e.y.range(),u=e._drawState.xDomain||e.x.domain(),l=e._drawState.yDomain||e.y.domain();r=i(t,e.x.range()),n=i(s,e.y.range()),a=i(u,e.x.domain()),o=i(l,e.y.domain())}),this}},{key:"render",value:function(){if(this.chart){var t=this.d3.color(this.config.strokeColor);t.opacity=this._drawState.opacity,this.konvaShape.stroke(t.toString()),this.konvaShape.strokeWidth(this.config.strokeWidth),this.bus.emit(f.EventTypes.CANVAS_RENDERER_PAINT,{id:this.id})}}},{key:"_drawFunc",value:function(t){var e=this._drawState.data||[],i=this._drawState,r=i.xRange,n=i.yRange,a=i.xDomain,o=i.yDomain,s=this.x.copy(),u=this.y.copy();r&&a&&s.range(r).domain(a),n&&o&&u.range(n).domain(o),t.beginPath(),this.lineFunc.x(function(t){return s(t.date)}).y(function(t){return u(t.value)}).context(t).call(null,e),t.fillStrokeShape(this.konvaShape)}},{key:"onResize",value:function(){var t=this.chart.canvasWidth-1,e=this.chart.canvasHeight-1,i=+this.borderRadius+1;this.konvaGroup.clipFunc(function(r){d.roundedRect.call(r,t,e,i)})}},{key:"update",value:function(){}},{key:"tearDown",value:function(){delete this._drawState.data,delete this._drawState.opacity,delete this._drawState.xRange,delete this._drawState.yRange,delete this._drawState.xDomain,delete this._drawState.yDomain,this.render(),this._hasRendered=!1,this._inProgress=!1}},{key:"data",get:function(){var t=this;return(this._data||[]).filter(function(e){return!t.config.interpolateNulls||t._nullFilter(e)})}},{key:"preMergeData",get:function(){var t=this;return(this._preMerge||[]).filter(function(e){return!t.config.interpolateNulls||t._nullFilter(e)})}},{key:"postMergeData",get:function(){var t=this;return(this._postMerge||[]).filter(function(e){return!t.config.interpolateNulls||t._nullFilter(e)})}},{key:"prevData",get:function(){var t=this;return(this._prevData||[]).filter(function(e){return!t.config.interpolateNulls||t._nullFilter(e)})}},{key:"visibleRange",get:function(){return this._visibleRange}}],[{key:"_factory",value:function(t){return function(i){return new e(i,t)}}},{key:"_defaults",get:function(){return{strokeWidth:2,interpolateNulls:!0}}}]),e}(v(i(89)).default),y=r.prototype,_="compose",g=[p.logTiming],m=(0,n.default)(r.prototype,"compose"),k=r.prototype,b={},Object.keys(m).forEach(function(t){b[t]=m[t]}),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=g.slice().reverse().reduce(function(t,e){return e(y,_,t)||t},b),k&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(k):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(y,_,b),b=null),r);e.default=T,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=d(i(4)),n=d(i(5)),a=d(i(0)),o=d(i(1)),s=d(i(7)),u=d(i(25)),l=d(i(6)),h=d(i(29)),c=i(2);function d(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(){return(0,a.default)(this,e),(0,s.default)(this,(e.__proto__||(0,n.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,o.default)(e,[{key:"_setDisplayProps",value:function(t){var i=(0,r.default)({},e._defaults,t);this.maxWidth=i.maxWidth,this.borderRadius=i.borderRadius,this.maxBorderRadius=i.maxBorderRadius,this.padding=i.padding,this.strokeWidth=i.strokeWidth,this.hoverStrokeWidth="auto"===i.hoverStrokeWidth?this.strokeWidth:i.hoverStrokeWidth,this.zeroDataHeight=i.zeroDataHeight,this.strokeColor=this.color,this.fillColor="auto"===i.fillColor?this.strokeColor:i.fillColor,this.hoverStrokeColor="auto"===i.hoverStrokeColor?this.strokeColor:i.hoverStrokeColor,this.hoverFillColor="auto"===i.hoverFillColor?this.strokeColor:i.hoverFillColor}},{key:"_createContainer",value:function(){this.$el=this.$container.append("svg:g").attr("data-id",this.id).classed(c.ClassNames.BARS,!0).classed(c.ClassNames.MASK_TARGET,!0).attr("clip-path","url(#clip-"+this.uid+")")}},{key:"setVisibleRange",value:function(t,i){(0,u.default)(e.prototype.__proto__||(0,n.default)(e.prototype),"setVisibleRange",this).call(this,t);var r=(this._data||[]).filter(function(e){return e.date>=t.xMin&&e.date<=t.xMax});this.setData(r,i)}},{key:"setData",value:function(t,e){this._data=t,this.render(e)}},{key:"render",value:function(t){var e=this,i=this.$el.selectAll("rect").data(this.data,function(t){return t.date}),r=1;this.chart.visibleRange.xTicks&&(r=Math.max(this.chart.visibleRange.xTicks.length,1));var n=this.chart.canvasWidth/r*(1-this.padding);this.maxWidth&&n>this.maxWidth&&(n=this.maxWidth),this.bus.emit(c.EventTypes.BAR_WIDTH_UPDATED,n),this.x=this.chart.xScale.copy(),this.y=this.chart.yScale.copy();var a=this.y(0),o=this.zeroDataHeight,s=Math.min(n*this.borderRadius,n/2);this.maxBorderRadius&&s>this.maxBorderRadius&&(s=this.maxBorderRadius);var u=function(t){return Math.max(Math.abs(e.y(t.value)-a),o)},l=function(t){return Math.min(u(t)/2,s)},h=i.exit(),d=i.enter().append("rect"),f=i,p=d.merge(f);h.transition(t).attr("x",function(t){return e.x(t.date)}).attr("y",a).attr("width",function(){return n}).attr("height",function(){return 0}).attr("transform",function(){return"translate(-"+n/2.0001+")"}).attr("rx",l).style("opacity",function(){return 0}).remove(),d.classed(c.ClassNames.BAR,!0).attr("x",function(t){return e.x(t.date)}).attr("y",a).attr("width",function(){return n}).attr("height",function(){return 0}).attr("transform",function(){return"translate(-"+n/2.0002+")"}).attr("rx",l).attr("stroke",function(){return e.strokeColor}).attr("fill",function(){return e.fillColor}).attr("stroke-width",function(){return e.strokeWidth}).style("opacity",function(){return 0}),p.classed(c.ClassNames.BAR_ZERO,function(t){return 0===t.value}).classed(c.ClassNames.BAR_NEG,function(t){return t.value<0}).transition(t).attr("x",function(t){return e.x(t.date)}).attr("y",function(t){return t.value<0?a:a-u(t)}).attr("fill",function(){return e.fillColor}).attr("width",function(){return n}).attr("height",u).attr("transform",function(){return"translate(-"+n/2.0003+")"}).attr("rx",l).style("opacity",function(){return 1})}},{key:"update",value:function(){var t=this,e=function(e){return t.highlightedDate&&+e.date==+t.highlightedDate};this.$el.selectAll("rect").data(this.data,function(t){return t.date}).attr("stroke",function(i){return e(i)?t.hoverStrokeColor:t.strokeColor}).attr("fill",function(i){return e(i)?t.hoverFillColor:t.fillColor}).attr("stroke-width",function(i){return e(i)?t.hoverStrokeWidth:t.strokeWidth}).classed("highlight",function(t){return e(t)})}},{key:"tearDown",value:function(){this.$el.selectAll("rect").interrupt(this.id).remove()}},{key:"_isHover",value:function(t){return this.highlightedDate&&+t.date==+this.highlightedDate}},{key:"_highlightDate",value:function(t){this.highlightedDate=t.date,this.update()}},{key:"_unhighlightDate",value:function(){this.highlightedDate=!1,this.update()}},{key:"visibleRange",get:function(){return this._visibleRange}},{key:"data",get:function(){return this._data?this._data.filter(function(t){return null!==t.value&&!isNaN(t.value)}):[]}}],[{key:"_factory",value:function(t){return function(i){return new e(i,t,e._listeners)}}},{key:"_defaults",get:function(){return{maxWidth:null,borderRadius:.2,maxBorderRadius:null,strokeWidth:0,hoverStrokeWidth:"auto",hoverStrokeColor:"auto",fillColor:"auto",hoverFillColor:"auto",padding:.15,zeroDataHeight:0}}},{key:"_listeners",get:function(){return{HIGHLIGHT_DATE:"_highlightDate",UNHIGHLIGHT_DATE:"_unhighlightDate"}}}]),e}(h.default);e.default=f,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=d(i(4)),n=d(i(5)),a=d(i(0)),o=d(i(1)),s=d(i(7)),u=d(i(25)),l=d(i(6)),h=d(i(29)),c=i(2);function d(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(){return(0,a.default)(this,e),(0,s.default)(this,(e.__proto__||(0,n.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,o.default)(e,[{key:"_setDisplayProps",value:function(t){var i=this,n=(0,r.default)({},e._defaults,t);this.strokeWidth=n.strokeWidth,this.strokeColor=this.color,this.curve=n.curve||this.d3.curveLinear,this.interpolateNulls=n.interpolateNulls,this.lineFunc=this.d3.line().x(function(t){return i.x(t.date)}).y(function(t){return i.y(t.value)}).curve(this.curve).defined(function(t){return!!i.interpolateNulls||i._nullFilter(t)})}},{key:"_createContainer",value:function(){this.$el=this.$container.append("svg:path").attr("data-id",this.id).classed(c.ClassNames.LINE,!0).classed(c.ClassNames.CLIP_TARGET,!0).attr("clip-path","url(#clip-"+this.uid+")")}},{key:"_nullFilter",value:function(t){return null!==t.value&&!isNaN(t.value)}},{key:"setData",value:function(t,e){var i=this;if(this._data&&(this._prevData=this._data),!this.interpolateNulls)for(var n=this.chart.visibleRange.xTicks,a=t.map(function(t){return+t.date}),o=a[0],s=a[a.length-1],u=0;u<n.length;u++){var l=n[u];+l>o&&+l<s&&!a.includes(+l)&&t.splice(u,0,{date:l})}if(this._data=t,this._data&&this._prevData){if(this._preMerge=this._prevData.concat(this._data).filter(function(t){var e=i.chart.visibleRange,r=+t.date;return r<+e.xMin||r>+e.xMax||e.xTicks.map(function(t){return+t}).includes(r)}).reduce(function(t,e){var i=t.findIndex(function(t){return+t.date==+e.date});if(-1===i)return t.push((0,r.default)({},e)),t;var n=t[i].value,a=e.value;return(null===n||isNaN(n)||null===a||isNaN(a))&&(t[i]=(0,r.default)({},e,{value:a})),t},[]).sort(function(t,e){return t.date-e.date}),!this.interpolateNulls)for(var h=1;h<this._preMerge.size;){var c=+this._preMerge[h].date,d=+this._preMerge[h-1].date,f=+this.chart.periodInterval.offset(d);c>f&&this._preMerge.splice(h,0,{date:new Date(f)}),h+=1}this._postMerge=this._preMerge.map(function(t){var e=i._data.findIndex(function(e){return+e.date==+t.date});return-1!==e?i._data[e]:t})}this.render(e,!0)}},{key:"setVisibleRange",value:function(t,i){(0,u.default)(e.prototype.__proto__||(0,n.default)(e.prototype),"setVisibleRange",this).call(this,t),this.render(i)}},{key:"render",value:function(t,e){var i=this;return this.$el.attr("stroke",this.color).attr("stroke-width",this.strokeWidth).attr("fill","none"),this._hasRendered?e&&this.preMergeData&&this.postMergeData?this.$el.datum(this.preMergeData).attr("d",this.lineFunc).datum(this.postMergeData).transition(t).attr("opacity",1).attr("d",this.lineFunc).on("end",function(){i.$el&&Array.isArray(i.data)&&setTimeout(function(){i.$el.datum(i.data).attr("d",i.lineFunc)},0)}):this.$el.datum()&&this.$el.transition(t).attr("opacity",1).attr("d",this.lineFunc):this.$el.datum(this.data).attr("d",this.lineFunc).attr("opacity",0).transition(t).attr("opacity",1),this._hasRendered=!0,this}},{key:"update",value:function(){}},{key:"tearDown",value:function(){this.$el.interrupt(this.id).remove()}},{key:"data",get:function(){var t=this;return this._data&&this._data.filter(function(e){return!t.interpolateNulls||t._nullFilter(e)})||[]}},{key:"preMergeData",get:function(){var t=this;return this._preMerge&&this._preMerge.filter(function(e){return!t.interpolateNulls||t._nullFilter(e)})||[]}},{key:"postMergeData",get:function(){var t=this;return this._postMerge&&this._postMerge.filter(function(e){return!t.interpolateNulls||t._nullFilter(e)})||[]}},{key:"visibleRange",get:function(){return this._visibleRange}}],[{key:"_factory",value:function(t){return function(i){return new e(i,t)}}},{key:"_defaults",get:function(){return{strokeWidth:2,interpolateNulls:!0}}}]),e}(h.default);e.default=f,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=d(i(4)),n=d(i(5)),a=d(i(0)),o=d(i(1)),s=d(i(7)),u=d(i(25)),l=d(i(6)),h=d(i(29)),c=i(2);function d(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(){return(0,a.default)(this,e),(0,s.default)(this,(e.__proto__||(0,n.default)(e)).apply(this,arguments))}return(0,l.default)(e,t),(0,o.default)(e,[{key:"_setDisplayProps",value:function(t){var i=(0,r.default)({},e._defaults,t);this.radius=i.radius,this.hoverRadius=i.hoverRadius,this.strokeWidth=i.strokeWidth,this.hoverStrokeWidth="auto"===i.hoverStrokeWidth?this.strokeWidth:i.hoverStrokeWidth,this.minPadding=i.minPadding||0,this.strokeColor=this.color,this.fillColor="auto"===i.fillColor?this.strokeColor:i.fillColor,this.hoverStrokeColor="auto"===i.hoverStrokeColor?this.strokeColor:i.hoverStrokeColor,this.hoverFillColor="auto"===i.hoverFillColor?this.strokeColor:i.hoverFillColor}},{key:"_createContainer",value:function(){this.$el=this.$container.append("svg:g").attr("data-id",this.id).classed(c.ClassNames.POINTS,!0),this.containsMany()&&this.$el.classed(c.ClassNames.MASK_TARGET,!0).attr("mask","url(#mask-"+this.uid+")")}},{key:"setVisibleRange",value:function(t,i){(0,u.default)(e.prototype.__proto__||(0,n.default)(e.prototype),"setVisibleRange",this).call(this,t);var r=(this._data||[]).filter(function(e){return e.date>=t.xMin&&e.date<=t.xMax});this.setData(r,i)}},{key:"setData",value:function(t,e){this._data=t,this.render(e)}},{key:"containsMany",value:function(){return this.data&&this.data.length>1}},{key:"render",value:function(t){var e=this,i=0,r=this.chart.config.margin.left-1,n=r+this.chart.canvasWidth+2;if(this.visibleRange&&this.visibleRange.xTicks&&this.containsMany()){var a=this.chart.canvasWidth/this.visibleRange.xTicks.length;this.reduceClutter=a<this.minPadding}var o=this.$el.selectAll("circle").data(this.data,function(t){return t.date});o.exit().transition(t).attr("cx",function(t){return e.x(t.date)}).attr("cy",function(t){return e.y(t.value)}).attr("r",0).styleTween("opacity",function(){var t=this;return function(){var e=t.getAttribute("cx");return e>n||e<r?0:1}}).remove(),o.enter().append("svg:circle").attr("stroke",this.strokeColor).attr("fill",this.fillColor).attr("stroke-width",this.strokeWidth).attr("cx",function(t){return e.x(t.date)+.5}).attr("cy",function(t){return e.y(t.value)}).attr("r",0).merge(o).interrupt(this.id).transition(t).attr("cx",function(t){return e.x(t.date)+.5}).attr("cy",function(t){return e.y(t.value)}).attr("r",function(){return e.reduceClutter?0:e.radius}).styleTween("opacity",function(){var t=this;return function(){var e=t.getAttribute("cx");return e>n||e<r?0:1}}).on("start",function(){return i++}).on("end",function(){!--i&&Array.isArray(e.data)&&e.$el.datum(e.data).attr("d",e.lineFunc)}).on("start",function(){return i++}).on("end",function(){!--i&&e.$el&&e.$el.selectAll("circle").attr("cx",function(t){return e.x(t.date)+.5}).attr("cy",function(t){return e.y(t.value)}).attr("r",function(){return e.reduceClutter?0:e.radius})})}},{key:"update",value:function(){var t=this,e=function(e){return t.highlightedDate&&+e.date==+t.highlightedDate};this.$el.selectAll("circle").data(this.data,function(t){return t.date}).attr("r",function(i){return e(i)?t.hoverRadius:t.reduceClutter?0:t.radius}).attr("stroke",function(i){return e(i)?t.hoverStrokeColor:t.strokeColor}).attr("fill",function(i){return e(i)?t.hoverFillColor:t.fillColor}).attr("stroke-width",function(i){return e(i)?t.hoverStrokeWidth:t.strokeWidth}).classed("highlight",function(t){return e(t)})}},{key:"tearDown",value:function(){this.$el.selectAll("circle").interrupt(this.id).remove()}},{key:"_highlightDate",value:function(t){this.highlightedDate=t.date,this.update()}},{key:"_unhighlightDate",value:function(){this.highlightedDate=!1,this.update()}},{key:"visibleRange",get:function(){return this._visibleRange}},{key:"data",get:function(){return this._data?this._data.filter(function(t){return null!==t.value&&!isNaN(t.value)}):[]}}],[{key:"_factory",value:function(t){return function(i){return new e(i,t,e._listeners)}}},{key:"_defaults",get:function(){return{radius:0,hoverRadius:5,strokeWidth:0,hoverStrokeWidth:"auto",hoverStrokeColor:"auto",fillColor:"auto",hoverFillColor:"auto",minPadding:10}}},{key:"_listeners",get:function(){return{HIGHLIGHT_DATE:"_highlightDate",UNHIGHLIGHT_DATE:"_unhighlightDate"}}}]),e}(h.default);e.default=f,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,n=p(i(13)),a=p(i(4)),o=p(i(39)),s=p(i(30)),u=p(i(38)),l=p(i(0)),h=p(i(1)),c=i(2),d=i(97),f=i(17);function p(t){return t&&t.__esModule?t:{default:t}}function v(t,e,i,r,n){var a={};return Object.keys(r).forEach(function(t){a[t]=r[t]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,r){return r(t,e,i)||i},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(t,e,a),a=null),a}var y=(v((r=function(){function t(e){(0,l.default)(this,t),this.d3=e.d3,this.moment=e.moment,this.bus=e.bus,this.config=e.config,this.colorMap=new u.default,this._knownIds=0,this._setPeriod(this.config.period),this._setPeriodStep(this.config.periodStep),this._setColors(this.config.colors),this._setFirstDayOfWeek(this.config.firstDayOfWeek),this._addEventListeners(t._listeners)}return(0,h.default)(t,null,[{key:"_listeners",get:function(){return{CONFIG_UPDATED:"onConfigUpdated"}}}]),(0,h.default)(t,[{key:"onConfigUpdated",value:function(t,e){switch(t){case"period":this._setPeriod(e);break;case"periodStep":this._setPeriodStep(e);break;case"colors":this._setColors(e);break;case"firstDayOfWeek":this._setFirstDayOfWeek(e)}}},{key:"tearDown",value:function(){this.data=[],this._removeEventListeners()}},{key:"_addEventListeners",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._evMap=e,this._bound=(0,s.default)(this._evMap).reduce(function(e,i){var r=c.EventTypes[i],n=t._evMap[i],a=t[n];if(!r)throw new Error("Unknown event type: "+i);if(!a)throw new Error("Unknown method name: "+n);return e[n]||(e[n]=a.bind(t)),t.bus.on(r,e[n]),e},{})}},{key:"_removeEventListeners",value:function(){var t=this;this.bus&&(0,s.default)(this._evMap).forEach(function(e){var i=t._evMap[e];t.bus.removeListener(c.EventTypes[e],t._bound[i])})}},{key:"_calcBounds",value:function(){var t=Math.min.apply(Math,(0,o.default)(this.entities.filter(function(t){return t._xMin instanceof Date}).map(function(t){return+t._xMin})));this._xMin=isFinite(t)?new Date(t):void 0;var e=Math.max.apply(Math,(0,o.default)(this.entities.filter(function(t){return t._xMax instanceof Date}).map(function(t){return+t._xMax})));this._xMax=isFinite(e)?new Date(e):void 0;var i=Math.min.apply(Math,(0,o.default)(this.entities.filter(function(t){return"number"==typeof t._yMin}).map(function(t){return t._yMin})));this._yMin=isFinite(i)?Math.min(i,0):void 0;var r=Math.max.apply(Math,(0,o.default)(this.entities.filter(function(t){return"number"==typeof t._yMax}).map(function(t){return t._yMax})));this._yMax=isFinite(r)?r:void 0}},{key:"_calcPeriodInterval",value:function(){var t=this.d3,e=[t.utcSunday,t.utcMonday,t.utcTuesday,t.utcWednesday,t.utcThursday,t.utcFriday,t.utcSaturday];switch(this.period){case c.TimePeriods.MINUTELY:this._periodInterval=t.utcMinute;break;case c.TimePeriods.HOURLY:this._periodInterval=t.utcHour;break;case c.TimePeriods.WEEKLY:this._periodInterval=e[this.firstDayOfWeek];break;case c.TimePeriods.MONTHLY:this._periodInterval=t.utcMonth;break;case c.TimePeriods.DAILY:default:this._periodInterval=t.utcDay}}},{key:"_calcGrouped",value:function(){var t=this.entities.map(function(t){var e=(0,a.default)({},t);return delete e.id,[t.id,e]});this._grouped=new u.default(t)}},{key:"_generateColor",value:function(t){var e=t.id,i=t.color;return i?this.colorMap.set(e,i):this.colorMap.has(e)||this.colorMap.set(e,this._colors[this._knownIds++]),this.colorMap.get(e)}},{key:"_setPeriod",value:function(t){if(t){if("string"!=typeof t)throw new Error("period must be a string");if(!c.TimePeriods[t.toUpperCase()]){var e=(0,s.default)(c.TimePeriods).join();throw new Error('Unknown time period "'+t+'" - must be one of '+e)}this._period=c.TimePeriods[t.toUpperCase()],this._calcPeriodInterval()}}},{key:"_setPeriodStep",value:function(t){if(t&&null!==t&&isNaN(t))throw new Error("periodStep must be a Number");this._periodStep=t}},{key:"_setFirstDayOfWeek",value:function(t){this._firstDayOfWeek=t,this._calcPeriodInterval()}},{key:"_setColors",value:function(t){var e=this;this._colors=t,this.colorMap.clear(),this._knownIds=0,this._data&&this._data.forEach(function(t){return t.color=e._generateColor(t)})}},{key:"entities",get:function(){return this._data||[]},set:function(t){var e=this;if(t){if(!(t instanceof Array))throw new TypeError("Expected data array");t.forEach(function(t,e){if(!(t.values&&t.values instanceof Array))throw new TypeError("Data ["+(t.id||e)+"]: Expected values array")}),this._origData=t,this._data=(0,d.clone)(t),this._data.forEach(function(t,i){0===t.id||t.id||(t.id="_gen_"+i);var r=void 0,n=void 0,a=void 0,o=void 0;if(t.values&&t.values.length){var s=e.periodInterval,u=[];t.values.forEach(function(t){var i=t.value;(isNaN(r)||i<r)&&(r=i),(isNaN(n)||i>n)&&(n=i);var a=e.moment.utc(t.date,e.moment.ISO_8601).toDate(),o=s.floor(a);if(t.date=o,u.includes(+o)){var l="More than 1 data point per period ("+e.period+")";throw new Error(l)}u.push(+o)}),t.values=t.values.sort(function(t,e){return+t.date<+e.date?-1:+t.date>+e.date?1:0}),a=t.values[0].date,o=t.values[t.values.length-1].date}t._yMin=r,t._yMax=n,t._xMin=a,t._xMax=o,t.color=e._generateColor(t)}),this._calcGrouped(),this._calcBounds()}}},{key:"markers",get:function(){return this._markers||[]},set:function(t){var e=this;if(t){if(!(t instanceof Array))throw new TypeError("Expected markers array");t.forEach(function(t,i){if(!t.date||!e.moment.utc(t.date,e.moment.ISO_8601).isValid())throw new TypeError("Marker ["+(t.id||i)+"]: Expected date")}),this._origMarkers=t,this._markers=(0,d.clone)(t),this._markers.forEach(function(t,i){0===t.id||t.id||(t.id="_gen_marker_"+i);var r=e.periodInterval,n=e.moment.utc(t.date,e.moment.ISO_8601).toDate(),a=r.floor(n);t.date=a})}}},{key:"period",get:function(){return this._period}},{key:"periodStep",get:function(){return this._periodStep||1}},{key:"periodInterval",get:function(){return this._periodInterval}},{key:"grouped",get:function(){return this._grouped||new u.default}},{key:"firstDayOfWeek",get:function(){return this._firstDayOfWeek||0}},{key:"xMin",get:function(){return this._xMin}},{key:"xMax",get:function(){return this._xMax}},{key:"yMin",get:function(){return this._yMin}},{key:"yMax",get:function(){return this._yMax}},{key:"range",get:function(){return{xMin:this.xMin,xMax:this.xMax,yMin:this.yMin,yMax:this.yMax}}}]),t}()).prototype,"onConfigUpdated",[f.logTiming],(0,n.default)(r.prototype,"onConfigUpdated"),r.prototype),v(r.prototype,"tearDown",[f.logTiming],(0,n.default)(r.prototype,"tearDown"),r.prototype),v(r.prototype,"_addEventListeners",[f.logTiming],(0,n.default)(r.prototype,"_addEventListeners"),r.prototype),v(r.prototype,"_removeEventListeners",[f.logTiming],(0,n.default)(r.prototype,"_removeEventListeners"),r.prototype),v(r.prototype,"_calcBounds",[f.logTiming],(0,n.default)(r.prototype,"_calcBounds"),r.prototype),v(r.prototype,"_calcPeriodInterval",[f.logTiming],(0,n.default)(r.prototype,"_calcPeriodInterval"),r.prototype),v(r.prototype,"_calcGrouped",[f.logTiming],(0,n.default)(r.prototype,"_calcGrouped"),r.prototype),v(r.prototype,"_generateColor",[f.logTiming],(0,n.default)(r.prototype,"_generateColor"),r.prototype),v(r.prototype,"_setPeriod",[f.logTiming],(0,n.default)(r.prototype,"_setPeriod"),r.prototype),v(r.prototype,"_setPeriodStep",[f.logTiming],(0,n.default)(r.prototype,"_setPeriodStep"),r.prototype),v(r.prototype,"_setFirstDayOfWeek",[f.logTiming],(0,n.default)(r.prototype,"_setFirstDayOfWeek"),r.prototype),v(r.prototype,"_setColors",[f.logTiming],(0,n.default)(r.prototype,"_setColors"),r.prototype),v(r.prototype,"entities",[f.logTiming],(0,n.default)(r.prototype,"entities"),r.prototype),v(r.prototype,"markers",[f.logTiming],(0,n.default)(r.prototype,"markers"),r.prototype),v(r.prototype,"period",[f.logTiming],(0,n.default)(r.prototype,"period"),r.prototype),v(r.prototype,"periodStep",[f.logTiming],(0,n.default)(r.prototype,"periodStep"),r.prototype),v(r.prototype,"periodInterval",[f.logTiming],(0,n.default)(r.prototype,"periodInterval"),r.prototype),v(r.prototype,"grouped",[f.logTiming],(0,n.default)(r.prototype,"grouped"),r.prototype),v(r.prototype,"firstDayOfWeek",[f.logTiming],(0,n.default)(r.prototype,"firstDayOfWeek"),r.prototype),r);e.default=y,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(i(4)),n=a(i(76));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e,i,a){t.module("tidbits-timeseries",[]).directive("tidbitsTimeseries",function(){return{restrict:"E",link:function(t,o){t.options=(0,r.default)({},t.options,{d3:e,moment:i,konva:a}),t.timeseries=new n.default(o[0],t.options);var s=t.timeseries.bus,u=s.emit;s.emit=function(){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];u.apply(s,i),t.$emit.apply(t,i)};var l=function(e,i){(e||i)&&t.timeseries.loadData(e,i)},h=function(e){e&&t.timeseries.loadMarkers(e)};t.loadData=l,t.loadMarkers=h,(void 0===t.watchData||t.watchData)&&t.$watch("data",function(){var e=t.data&&t.data.data,i=t.data&&t.data.options;l(e,i)},!0),(void 0===t.watchMarkers||t.watchMarkers)&&t.$watch("markers",function(){var e=t.markers;h(e)},!0)},scope:{data:"=",markers:"=",timeseries:"=?",options:"=?",watchData:"=",watchMarkers:"=",loadData:"=?",loadMarkers:"=?"}}})},t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.roundedRect=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;this.moveTo(r+i,n),this.lineTo(r+t-i,n),this.quadraticCurveTo(r+t,n,r+t,n+i),this.lineTo(r+t,n+e-i),this.quadraticCurveTo(r+t,n+e,r+t-i,n+e),this.lineTo(r+i,n+e),this.quadraticCurveTo(r,n+e,r,n+e-i),this.lineTo(r,n+i),this.quadraticCurveTo(r,n,r+i,n)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=i(31),a=(r=n)&&r.__esModule?r:{default:r};e.clone=function t(e){if("object"!==(void 0===e?"undefined":(0,a.default)(e))||null===e||e instanceof Date)return e;if(Array.isArray(e))return[].concat(e).map(t);var i=[];for(var r in e)i.push(r);var n={};i.forEach(function(i){return n[i]=t(e[i])});return n}},function(t,e,i){t.exports={default:i(108),__esModule:!0}},function(t,e,i){t.exports={default:i(109),__esModule:!0}},function(t,e,i){t.exports={default:i(112),__esModule:!0}},function(t,e,i){t.exports={default:i(113),__esModule:!0}},function(t,e,i){t.exports={default:i(117),__esModule:!0}},function(t,e,i){t.exports={default:i(118),__esModule:!0}},function(t,e,i){t.exports={default:i(119),__esModule:!0}},function(t,e,i){t.exports={default:i(120),__esModule:!0}},function(t,e,i){"use strict";e.__esModule=!0;var r,n=i(4),a=(r=n)&&r.__esModule?r:{default:r};e.default=a.default||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}},function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t,e){var i={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r]);return i}},function(t,e,i){i(56),i(145),t.exports=i(3).Array.from},function(t,e,i){var r=i(3),n=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}},function(t,e,i){i(74),i(56),i(75),i(147),i(158),i(157),i(156),t.exports=i(3).Map},function(t,e,i){i(148),t.exports=i(3).Object.assign},function(t,e,i){i(149);var r=i(3).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,i){i(150);var r=i(3).Object;t.exports=function(t,e,i){return r.defineProperty(t,e,i)}},function(t,e,i){i(151);var r=i(3).Object;t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)}},function(t,e,i){i(152),t.exports=i(3).Object.getPrototypeOf},function(t,e,i){i(153),t.exports=i(3).Object.keys},function(t,e,i){i(154),t.exports=i(3).Object.setPrototypeOf},function(t,e,i){i(159),t.exports=i(3).Object.values},function(t,e,i){i(155),i(74),i(160),i(161),t.exports=i(3).Symbol},function(t,e,i){i(56),i(75),t.exports=i(55).f("iterator")},function(t,e){t.exports=function(){}},function(t,e,i){var r=i(32);t.exports=function(t,e){var i=[];return r(t,!1,i.push,i,e),i}},function(t,e,i){var r=i(16),n=i(35),a=i(144);t.exports=function(t){return function(e,i,o){var s,u=r(e),l=n(u.length),h=a(o,l);if(t&&i!=i){for(;l>h;)if((s=u[h++])!=s)return!0}else for(;l>h;h++)if((t||h in u)&&u[h]===i)return t||h||0;return!t&&-1}}},function(t,e,i){var r=i(19),n=i(43),a=i(24),o=i(35),s=i(126);t.exports=function(t,e){var i=1==t,u=2==t,l=3==t,h=4==t,c=6==t,d=5==t||c,f=e||s;return function(e,s,p){for(var v,y,_=a(e),g=n(_),m=r(s,p,3),k=o(g.length),b=0,T=i?f(e,k):u?f(e,0):void 0;k>b;b++)if((d||b in g)&&(y=m(v=g[b],b,_),t))if(i)T[b]=y;else if(y)switch(t){case 3:return!0;case 5:return v;case 6:return b;case 2:T.push(v)}else if(h)return!1;return c?-1:l||h?h:T}}},function(t,e,i){var r=i(15),n=i(64),a=i(9)("species");t.exports=function(t){var e;return n(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!n(e.prototype)||(e=void 0),r(e)&&null===(e=e[a])&&(e=void 0)),void 0===e?Array:e}},function(t,e,i){var r=i(125);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,i){"use strict";var r=i(10).f,n=i(33),a=i(70),o=i(19),s=i(59),u=i(32),l=i(44),h=i(66),c=i(142),d=i(11),f=i(46).fastKey,p=i(72),v=d?"_s":"size",y=function(t,e){var i,r=f(e);if("F"!==r)return t._i[r];for(i=t._f;i;i=i.n)if(i.k==e)return i};t.exports={getConstructor:function(t,e,i,l){var h=t(function(t,r){s(t,h,e,"_i"),t._t=e,t._i=n(null),t._f=void 0,t._l=void 0,t[v]=0,null!=r&&u(r,i,t[l],t)});return a(h.prototype,{clear:function(){for(var t=p(this,e),i=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete i[r.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var i=p(this,e),r=y(i,t);if(r){var n=r.n,a=r.p;delete i._i[r.i],r.r=!0,a&&(a.n=n),n&&(n.p=a),i._f==r&&(i._f=n),i._l==r&&(i._l=a),i[v]--}return!!r},forEach:function(t){p(this,e);for(var i,r=o(t,arguments.length>1?arguments[1]:void 0,3);i=i?i.n:this._f;)for(r(i.v,i.k,this);i&&i.r;)i=i.p},has:function(t){return!!y(p(this,e),t)}}),d&&r(h.prototype,"size",{get:function(){return p(this,e)[v]}}),h},def:function(t,e,i){var r,n,a=y(t,e);return a?a.v=i:(t._l=a={i:n=f(e,!0),k:e,v:i,p:r=t._l,n:void 0,r:!1},t._f||(t._f=a),r&&(r.n=a),t[v]++,"F"!==n&&(t._i[n]=a)),t},getEntry:y,setStrong:function(t,e,i){l(t,e,function(t,i){this._t=p(t,e),this._k=i,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?h(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,h(1))},i?"entries":"values",!i,!0),c(e)}}},function(t,e,i){var r=i(60),n=i(122);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return n(this)}}},function(t,e,i){"use strict";var r=i(12),n=i(8),a=i(46),o=i(20),s=i(14),u=i(70),l=i(32),h=i(59),c=i(15),d=i(34),f=i(10).f,p=i(124)(0),v=i(11);t.exports=function(t,e,i,y,_,g){var m=r[t],k=m,b=_?"set":"add",T=k&&k.prototype,D={};return v&&"function"==typeof k&&(g||T.forEach&&!o(function(){(new k).entries().next()}))?(k=e(function(e,i){h(e,k,t,"_c"),e._c=new m,null!=i&&l(i,_,e[b],e)}),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in T&&(!g||"clear"!=t)&&s(k.prototype,t,function(i,r){if(h(this,k,t),!e&&g&&!c(i))return"get"==t&&void 0;var n=this._c[t](0===i?0:i,r);return e?this:n})}),g||f(k.prototype,"size",{get:function(){return this._c.size}})):(k=y.getConstructor(e,t,_,b),u(k.prototype,i),a.NEED=!0),d(k,t),D[t]=k,n(n.G+n.W+n.F,D),g||y.setStrong(k,t,_),k}},function(t,e,i){"use strict";var r=i(10),n=i(28);t.exports=function(t,e,i){e in t?r.f(t,e,n(0,i)):t[e]=i}},function(t,e,i){var r=i(23),n=i(48),a=i(27);t.exports=function(t){var e=r(t),i=n.f;if(i)for(var o,s=i(t),u=a.f,l=0;s.length>l;)u.call(t,o=s[l++])&&e.push(o);return e}},function(t,e,i){var r=i(12).document;t.exports=r&&r.documentElement},function(t,e,i){"use strict";var r=i(33),n=i(28),a=i(34),o={};i(14)(o,i(9)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=r(o,{next:n(1,i)}),a(t,e+" Iterator")}},function(t,e,i){var r=i(9)("iterator"),n=!1;try{var a=[7][r]();a.return=function(){n=!0},Array.from(a,function(){throw 2})}catch(o){}t.exports=function(t,e){if(!e&&!n)return!1;var i=!1;try{var a=[7],s=a[r]();s.next=function(){return{done:i=!0}},a[r]=function(){return s},t(a)}catch(o){}return i}},function(t,e,i){"use strict";var r=i(23),n=i(48),a=i(27),o=i(24),s=i(43),u=Object.assign;t.exports=!u||i(20)(function(){var t={},e={},i=Symbol(),r="abcdefghijklmnopqrst";return t[i]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[i]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var i=o(t),u=arguments.length,l=1,h=n.f,c=a.f;u>l;)for(var d,f=s(arguments[l++]),p=h?r(f).concat(h(f)):r(f),v=p.length,y=0;v>y;)c.call(f,d=p[y++])&&(i[d]=f[d]);return i}:u},function(t,e,i){var r=i(10),n=i(18),a=i(23);t.exports=i(11)?Object.defineProperties:function(t,e){n(t);for(var i,o=a(e),s=o.length,u=0;s>u;)r.f(t,i=o[u++],e[i]);return t}},function(t,e,i){var r=i(16),n=i(67).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return o&&"[object Window]"==a.call(t)?function(t){try{return n(t)}catch(e){return o.slice()}}(t):n(r(t))}},function(t,e,i){var r=i(23),n=i(16),a=i(27).f;t.exports=function(t){return function(e){for(var i,o=n(e),s=r(o),u=s.length,l=0,h=[];u>l;)a.call(o,i=s[l++])&&h.push(t?[i,o[i]]:o[i]);return h}}},function(t,e,i){"use strict";var r=i(8),n=i(58),a=i(19),o=i(32);t.exports=function(t){r(r.S,t,{from:function(t){var e,i,r,s,u=arguments[1];return n(this),(e=void 0!==u)&&n(u),null==t?new this:(i=[],e?(r=0,s=a(u,arguments[2],2),o(t,!1,function(t){i.push(s(t,r++))})):o(t,!1,i.push,i),new this(i))}})}},function(t,e,i){"use strict";var r=i(8);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,i){var r=i(15),n=i(18),a=function(t,e){if(n(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=i(19)(Function.call,i(47).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(n){e=!0}return function(t,i){return a(t,i),e?t.__proto__=i:r(t,i),t}}({},!1):void 0),check:a}},function(t,e,i){"use strict";var r=i(12),n=i(3),a=i(10),o=i(11),s=i(9)("species");t.exports=function(t){var e="function"==typeof n[t]?n[t]:r[t];o&&e&&!e[s]&&a.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,i){var r=i(52),n=i(41);t.exports=function(t){return function(e,i){var a,o,s=String(n(e)),u=r(i),l=s.length;return u<0||u>=l?t?"":void 0:(a=s.charCodeAt(u))<55296||a>56319||u+1===l||(o=s.charCodeAt(u+1))<56320||o>57343?t?s.charAt(u):a:t?s.slice(u,u+2):o-56320+(a-55296<<10)+65536}}},function(t,e,i){var r=i(52),n=Math.max,a=Math.min;t.exports=function(t,e){return(t=r(t))<0?n(t+e,0):a(t,e)}},function(t,e,i){"use strict";var r=i(19),n=i(8),a=i(24),o=i(65),s=i(63),u=i(35),l=i(130),h=i(73);n(n.S+n.F*!i(134)(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,n,c,d=a(t),f="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,y=void 0!==v,_=0,g=h(d);if(y&&(v=r(v,p>2?arguments[2]:void 0,2)),null==g||f==Array&&s(g))for(i=new f(e=u(d.length));e>_;_++)l(i,_,y?v(d[_],_):d[_]);else for(c=g.call(d),i=new f;!(n=c.next()).done;_++)l(i,_,y?o(c,v,[n.value,_],!0):n.value);return i.length=_,i}})},function(t,e,i){"use strict";var r=i(121),n=i(66),a=i(26),o=i(16);t.exports=i(44)(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,n(1)):n(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(t,e,i){"use strict";var r=i(127),n=i(72);t.exports=i(129)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(n(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(n(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,i){var r=i(8);r(r.S+r.F,"Object",{assign:i(135)})},function(t,e,i){var r=i(8);r(r.S,"Object",{create:i(33)})},function(t,e,i){var r=i(8);r(r.S+r.F*!i(11),"Object",{defineProperty:i(10).f})},function(t,e,i){var r=i(16),n=i(47).f;i(49)("getOwnPropertyDescriptor",function(){return function(t,e){return n(r(t),e)}})},function(t,e,i){var r=i(24),n=i(68);i(49)("getPrototypeOf",function(){return function(t){return n(r(t))}})},function(t,e,i){var r=i(24),n=i(23);i(49)("keys",function(){return function(t){return n(r(t))}})},function(t,e,i){var r=i(8);r(r.S,"Object",{setPrototypeOf:i(141).set})},function(t,e,i){"use strict";var r=i(12),n=i(21),a=i(11),o=i(8),s=i(71),u=i(46).KEY,l=i(20),h=i(51),c=i(34),d=i(36),f=i(9),p=i(55),v=i(54),y=i(131),_=i(64),g=i(18),m=i(16),k=i(53),b=i(28),T=i(33),D=i(137),E=i(47),x=i(10),M=i(23),R=E.f,S=x.f,w=D.f,C=r.Symbol,A=r.JSON,O=A&&A.stringify,P=f("_hidden"),N=f("toPrimitive"),L={}.propertyIsEnumerable,I=h("symbol-registry"),$=h("symbols"),W=h("op-symbols"),F=Object.prototype,G="function"==typeof C,j=r.QObject,U=!j||!j.prototype||!j.prototype.findChild,z=a&&l(function(){return 7!=T(S({},"a",{get:function(){return S(this,"a",{value:7}).a}})).a})?function(t,e,i){var r=R(F,e);r&&delete F[e],S(t,e,i),r&&t!==F&&S(F,e,r)}:S,H=function(t){var e=$[t]=T(C.prototype);return e._k=t,e},B=G&&"symbol"==typeof C.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof C},Y=function(t,e,i){return t===F&&Y(W,e,i),g(t),e=k(e,!0),g(i),n($,e)?(i.enumerable?(n(t,P)&&t[P][e]&&(t[P][e]=!1),i=T(i,{enumerable:b(0,!1)})):(n(t,P)||S(t,P,b(1,{})),t[P][e]=!0),z(t,e,i)):S(t,e,i)},V=function(t,e){g(t);for(var i,r=y(e=m(e)),n=0,a=r.length;a>n;)Y(t,i=r[n++],e[i]);return t},K=function(t){var e=L.call(this,t=k(t,!0));return!(this===F&&n($,t)&&!n(W,t))&&(!(e||!n(this,t)||!n($,t)||n(this,P)&&this[P][t])||e)},X=function(t,e){if(t=m(t),e=k(e,!0),t!==F||!n($,e)||n(W,e)){var i=R(t,e);return!i||!n($,e)||n(t,P)&&t[P][e]||(i.enumerable=!0),i}},J=function(t){for(var e,i=w(m(t)),r=[],a=0;i.length>a;)n($,e=i[a++])||e==P||e==u||r.push(e);return r},Z=function(t){for(var e,i=t===F,r=w(i?W:m(t)),a=[],o=0;r.length>o;)!n($,e=r[o++])||i&&!n(F,e)||a.push($[e]);return a};G||(s((C=function(){if(this instanceof C)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(i){this===F&&e.call(W,i),n(this,P)&&n(this[P],t)&&(this[P][t]=!1),z(this,t,b(1,i))};return a&&U&&z(F,t,{configurable:!0,set:e}),H(t)}).prototype,"toString",function(){return this._k}),E.f=X,x.f=Y,i(67).f=D.f=J,i(27).f=K,i(48).f=Z,a&&!i(45)&&s(F,"propertyIsEnumerable",K,!0),p.f=function(t){return H(f(t))}),o(o.G+o.W+o.F*!G,{Symbol:C});for(var q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Q=0;q.length>Q;)f(q[Q++]);for(var tt=M(f.store),et=0;tt.length>et;)v(tt[et++]);o(o.S+o.F*!G,"Symbol",{for:function(t){return n(I,t+="")?I[t]:I[t]=C(t)},keyFor:function(t){if(!B(t))throw TypeError(t+" is not a symbol!");for(var e in I)if(I[e]===t)return e},useSetter:function(){U=!0},useSimple:function(){U=!1}}),o(o.S+o.F*!G,"Object",{create:function(t,e){return void 0===e?T(t):V(T(t),e)},defineProperty:Y,defineProperties:V,getOwnPropertyDescriptor:X,getOwnPropertyNames:J,getOwnPropertySymbols:Z}),A&&o(o.S+o.F*(!G||l(function(){var t=C();return"[null]"!=O([t])||"{}"!=O({a:t})||"{}"!=O(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!B(t)){for(var e,i,r=[t],n=1;arguments.length>n;)r.push(arguments[n++]);return"function"==typeof(e=r[1])&&(i=e),!i&&_(e)||(e=function(t,e){if(i&&(e=i.call(this,t,e)),!B(e))return e}),r[1]=e,O.apply(A,r)}}}),C.prototype[N]||i(14)(C.prototype,N,C.prototype.valueOf),c(C,"Symbol"),c(Math,"Math",!0),c(r.JSON,"JSON",!0)},function(t,e,i){i(139)("Map")},function(t,e,i){i(140)("Map")},function(t,e,i){var r=i(8);r(r.P+r.R,"Map",{toJSON:i(128)("Map")})},function(t,e,i){var r=i(8),n=i(138)(!1);r(r.S,"Object",{values:function(t){return n(t)}})},function(t,e,i){i(54)("asyncIterator")},function(t,e,i){i(54)("observable")},function(t,e){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function n(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,i,o,s,u,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||n(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var h=new Error('Uncaught, unspecified "error" event. ('+e+")");throw h.context=e,h}if(a(i=this._events[t]))return!1;if(r(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),i.apply(this,s)}else if(n(i))for(s=Array.prototype.slice.call(arguments,1),o=(l=i.slice()).length,u=0;u<o;u++)l[u].apply(this,s);return!0},i.prototype.addListener=function(t,e){var o;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?n(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,n(this._events[t])&&!this._events[t].warned&&(o=a(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[t].length>o&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){if(!r(e))throw TypeError("listener must be a function");var i=!1;function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}return n.listener=e,this.on(t,n),this},i.prototype.removeListener=function(t,e){var i,a,o,s;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(o=(i=this._events[t]).length,a=-1,i===e||r(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(n(i)){for(s=o;s-- >0;)if(i[s]===e||i[s].listener&&i[s].listener===e){a=s;break}if(a<0)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(a,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r(i=this._events[t]))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)}}])},t.exports=r()}}]);